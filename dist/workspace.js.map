{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","workspace.js","src/frameset.js","src/sidemenu.js","src/utils/dom/addClass.js","src/utils/dom/attr.js","src/utils/dom/createElement.js","src/utils/dom/css.js","src/utils/dom/cssCalc.js","src/utils/dom/documentElement.js","src/utils/dom/each.js","src/utils/dom/filter.js","src/utils/dom/find.js","src/utils/dom/hasClass.js","src/utils/dom/index.js","src/utils/dom/matches.js","src/utils/dom/parents.js","src/utils/dom/query.js","src/utils/dom/removeClass.js","src/utils/dom/toggleClass.js","src/utils/dom/transform.js","src/utils/dom/until.js","src/utils/events/delegate.js","src/utils/events/emit.js","src/utils/events/on.js","src/utils/events/ready.js","src/utils/events/swipe.js","src/utils/events/touch.js","src/utils/helper/dataSrc.js","src/utils/object/extend.js","src/utils/support/CSSSupports.js","src/utils/support/browser.js","src/utils/support/flex.js","src/utils/support/legacyflex.js","src/utils/support/prefix.js","src/utils/support/touch.js","src/utils/support/transform.js","src/utils/support/transform3d.js","src/workspace.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_interopRequireDefault","obj","__esModule","default","mobile","_utilsDomDocumentElement2","offsetWidth","MOBILE_WIDTH","initFrameset","frameset","_utilsDomAddClass2","frames","children","active_frame","_utilsDomFind2","_utilsDomEach2","frame","_utilsEventsOn2","showFrame","frames_controls","_utilsSupportFlex2","_utilsDomFilter2","createFrameControls","diff","_utilsDomCssCalc2","width","fill_frames","w","setFrameWidth","style","min","parseInt","minWidth","max","maxWidth","wid","_utilsEventsSwipe2","parentNode","W","_utilsDomIndex2","b","gesture","type","preventDefault","stopPropagation","fo","dx","deltaX","direction","_utilsDomTransform2","_utilsDomCss2","WebkitTransition","mozTransition","transition","nextElementSibling","previousElementSibling","Math","abs","_utilsEventsEmit2","_utilsSupportTouch2","window","toggle","arguments","undefined","links","link","_utilsDomToggleClass2","el","x","_utilsDomRemoveClass2","btn","_utilsDomCreateElement2","className","appendChild","_utilsEventsTouch2","screenX","frm","prev","left","passed","nwidth","next","Object","defineProperty","value","_utilsSupportFlex","_utilsSupportTouch","_utilsEventsEmit","_utilsEventsOn","_utilsEventsDelegate","_utilsEventsDelegate2","_utilsEventsReady","_utilsEventsReady2","_utilsEventsSwipe","_utilsEventsTouch","_utilsDomTransform","_utilsDomDocumentElement","_utilsDomCreateElement","_utilsDomParents","_utilsDomParents2","_utilsDomAttr","_utilsDomIndex","_utilsDomEach","_utilsDomQuery","_utilsDomQuery2","_utilsDomFilter","_utilsDomFind","_utilsDomCss","_utilsDomCssCalc","_utilsDomAddClass","_utilsDomToggleClass","_utilsDomRemoveClass","_utilsDomHasClass","target","querySelectorAll","frameWidth","setWidth","selected","document","body","which","match","jQuery","fn","this","./utils/dom/addClass","./utils/dom/attr","./utils/dom/createElement","./utils/dom/css","./utils/dom/cssCalc","./utils/dom/documentElement","./utils/dom/each","./utils/dom/filter","./utils/dom/find","./utils/dom/hasClass","./utils/dom/index","./utils/dom/parents","./utils/dom/query","./utils/dom/removeClass","./utils/dom/toggleClass","./utils/dom/transform","./utils/events/delegate","./utils/events/emit","./utils/events/on","./utils/events/ready","./utils/events/swipe","./utils/events/touch","./utils/support/flex","./utils/support/legacyflex","./utils/support/touch","./utils/support/transform",2,"sidemenu","query","nav","innerText","name","getAttribute","title","_utilsDomAttr2","data-frmindex","_utilsDomHasClass2",3,"_each","_each2","_hasClass","_hasClass2","elements","./each","./hasClass",4,"props","element","setAttribute",5,"_objectExtend","_objectExtend2","tagName","prop","elm","createElement","../object/extend",6,"css","key",7,"getComputedStyle",8,"documentElement",9,"each","matches","callback","Element","HTMLDocument","Window",10,"_matches","_matches2","push","./matches",11,"_until","_until2","./until",12,"reg","RegExp",13,"elem","Array","prototype","indexOf",14,"handler","func","mozMatchesSelector","webkitMatchesSelector","msMatchesSelector","oMatchesSelector",15,"_documentElement","_documentElement2","m","./documentElement",16,"parent","querySelector",17,"replace",18,"_addClass","_addClass2","_removeClass","_removeClass2","condition","./addClass","./removeClass",19,"transform","_supportTransform3d2","msTransform","MozTransform","WebkitTransform","_css2","_css","_supportTransform3d","../support/transform3d","./css",20,"bool",21,"delegate","eventName","root","_on2","_domMatches2","_on","_domMatches","../dom/matches","./on",22,"emit","eventname","_domEach2","dispatchEvent","createEvent","_domEach","Event","initEvent","../dom/each",23,"on","eventnames","useCapture","split","forEach","addEventListener",24,"ready","readyState",25,"swipe","_touch2","_touch","deltaTime","distance","velocity","./touch",26,"touch","onmove","onstart","onend","cb","mv","fin","eventMoveTypes","moveEvent","voidEvent","pointerId","prevEvent","eventEndTypes","eventStartTypes","startEvent","touches","ts","timeStamp","prevMoveEvent","endEvent","currEvent","screenY","dy","deltaY","sqrt","event","pointerType","buttons","pointerEnabled","navigator",27,"check","h","offsetHeight","scrollTop","slice","filter","img","_t","offsetTop","_h","src","removeAttribute","errorSrc","onerror","images","show","onload","_domCss2","opacity","_domCss","_eventsOn","_eventsOn2","../dom/css","../events/on",28,29,"property","enabled",30,"_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Symbol","iterator","done","err","isArray","TypeError","_domAddClass","_domAddClass2","map","seamonkey","firefox","chrome","chromium","safari","opera","ie","ua","userAgent","test","_a","ignore","../dom/addClass",31,"_prefix","_prefix2","_CSSSupports","_CSSSupports2","result","./CSSSupports","./prefix",32,33,"prefix","toUpperCase",34,35,36,37,"_utilsHelperDataSrc","_utilsHelperDataSrc2","_sidemenu","_sidemenu2","_frameset","_frameset2","./frameset","./sidemenu","./utils/helper/dataSrc","./utils/support/browser"],"mappings":"CAAA,QAAAA,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAK,GAAA,GAAAC,OAAA,uBAAAN,EAAA,IAAA,MAAAK,GAAAE,KAAA,mBAAAF,EAAA,GAAAG,GAAAX,EAAAG,IAAAS,WAAAb,GAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAS,QAAA,IAAA,GAAAL,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAa,GAAA,SAAAT,QAAAU,OAAAJ,SCKA,YAMA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KC+BzF,QAASG,UACR,MAAQC,2BAAA,WAAgBC,YAAcC,aAiFvC,QAASC,cAAaC,UAGrBC,mBAAA,WAASD,SAAU,WAGnB,IAAIE,QAASF,SAASG,QAGtBF,oBAAA,WAASC,OAAQ,QAGjB,IAAIE,cAAeC,eAAA,WAAKH,OAAQ,UAE3BE,gBAIJA,aAAeC,eAAA,WAAKH,OAAQ,gBAAkBA,OAAO,GAErDD,mBAAA,WAASG,aAAc,WAIxBE,eAAA,WAAKJ,OAAQ,SAACK,OACbC,gBAAA,WAAGD,MAAO,SAAU,WD0EnB,MC1EyBE,WAAUF,UAMrC,IAAIG,iBAAkBC,mBAAA,WAAOC,iBAAA,WAAOV,OAAQ,eAAiBA,MAuJ7D,OArJAI,gBAAA,WAAKI,gBAAiBG,qBAMtBL,gBAAA,WAAGR,SAAU,YAAa,WAGzB,IAAIL,SAAJ,CAMA,GAAImB,MAAOC,kBAAA,WAAQf,UAAUgB,MAEzBC,YAAcL,iBAAA,WAAOV,OAAQ,gBAEjCI,gBAAA,WAAKW,YAAa,SAACV,OAGlB,GAAIW,GAAIH,kBAAA,WAAQR,OAAOS,KACvBF,OAAQI,EAGRC,cAAcZ,MAAOW,KAItBZ,eAAA,WAAKW,YAAa,SAACV,OAElB,GAAa,IAATO,KAAJ,CAIA,GAAIM,OAAQL,kBAAA,WAAQR,OAEhBc,IAAMC,SAASF,MAAMG,SAAS,KAAO,EACxCC,IAAMF,SAASF,MAAMK,SAAS,KAAO,EACrCC,IAAMnB,MAAMV,WAIMwB,KAAfK,IAAOZ,MAEVA,MAASY,IAAML,IACfK,IAAML,KAEGK,IAAMZ,KAAQU,KAAOA,IAAM,GAEpCV,MAASY,IAAMF,IACfE,IAAMF,MAGNE,KAAOZ,KACPA,KAAO,GAGRK,cAAcZ,MAAOmB,WAMvBC,mBAAA,WAAM3B,SAAS4B,WAAY,SAACxD,GAE3B,GAAKuB,SAAL,CAIA,GAAIhB,GAAI0B,eAAA,WAAKH,OAAQ,WACjB2B,EAAI7B,SAAS4B,WAAW/B,YACxBvB,EAAI4B,OAAOd,OAEXP,EAAIiD,gBAAA,WAAMnD,GACVoD,EAAIpD,CAER,QAAOP,EAAE4D,QAAQC,MAChB,IAAK,WACL,IAAK,YAGJ7D,EAAE8D,iBACF9D,EAAE+D,iBAGF,IAAIC,MAAO,IAAO9D,EAAKO,GAEnBwD,GAAM,IAAOR,EAAKzD,EAAE4D,QAAQM,OAAUhE,CAe1C,QAZU,IAANO,GAAmC,UAAxBT,EAAE4D,QAAQO,WAA2B1D,IAAOP,EAAE,GAA8B,SAAxBF,EAAE4D,QAAQO,aAC5EF,IAAM,IAGPG,oBAAA,WAAUxC,SAAU,aAAcoC,GAAMC,GAAM,SAE9CI,eAAA,WAAIzC,UACH0C,iBAAmB,uBACnBC,cAAgB,oBAChBC,WAAa,gBAIf,KAAK,YACJb,EAAIpD,EAAEkE,kBACP,MAEA,KAAK,aACJd,EAAIpD,EAAEmE,sBACP,MAEA,KAAK,UAEAC,KAAKC,IAAI5E,EAAE4D,QAAQM,QAAWT,EAAI,IAEpCE,EAD0B,UAAxB3D,EAAE4D,QAAQO,UACR5D,EAAEmE,uBAGFnE,EAAEkE,oBAmBV,MAZAJ,eAAA,WAAIzC,UACH0C,iBAAoB,GACpBC,cAAiB,GACjBC,WAAc,KAGVb,IACJA,EAAIpD,GAGLsE,kBAAA,WAAKlB,EAAG,WAED,KAIJmB,oBAAA,aACH1C,gBAAA,WAAG2C,OAAQ,SAAU,WACpBF,kBAAA,WAAKjD,SAAU,eAEhBiD,kBAAA,WAAKjD,SAAU,cAETA,SAOR,QAASS,WAAUF,ODqElB,GCrEyB6C,QAAMC,UAAAjE,QAAA,GAAAkE,SAAAD,UAAA,IAAG,EAAKA,UAAA,GAGnCrD,SAAWO,MAAMqB,WACjB1B,OAASF,SAASG,SAClBtB,EAAIiD,gBAAA,WAAMvB,OACVgD,MAAQjD,eAAA,WAAK,gBACbkD,KAAOD,MAAM1E,EAUjB,IARI2E,MAEHC,sBAAA,WAAYF,MAAO,SAAU,SAACG,IDsE7B,MCtEoCA,MAAOF,OAG7CC,sBAAA,WAAYvD,OAAQ,SAAU,SAACwD,IDwE9B,MCxEqCA,MAAOnD,QAGzCZ,SAAU,CACb,GAAIgE,GAAI,IAAO9E,EAAKqB,OAAOd,OAAU,IAAO,GAC5CoD,qBAAA,WAAUxC,SAAU,aAAc2D,OAE1BP,QACRK,sBAAA,YAAalD,MAAOiD,MAAO,UAG3BI,sBAAA,YAAarD,MAAOiD,MAAO,SAE5BP,mBAAA,WAAKjD,SAAU,aAIhB,QAASa,qBAAoBN,OAG5B,GAAIsD,KAAMC,wBAAA,WAAc,UAAWC,UAAW,UAC9CxD,OAAMyD,YAAYH,KAGlBI,mBAAA,WAAMJ,IAAK,SAACzF,EAAGK,GAEd,IAAIA,EACH,OAAO,CAER,IAAIqC,MAAQ1C,EAAE8F,QAAUzF,EAAEyF,OAG1B,IAAY,IAATpD,KAAH,CAKA,GAECM,OACAJ,MAHGmD,IAAM5D,MACT6D,KAAO7D,KAMkB,SAAtBQ,kBAAA,WAAQ8C,KAAKQ,OAChBD,KAAOD,IAAMC,KAAKtB,uBAGnB,GAKC,IAJA9B,MAAQoD,KAAKvE,YAAciB,KAE3BM,MAAQL,kBAAA,WAAQqD,QAEZpD,MAAQM,SAASF,MAAMK,SAAU,KAI5BT,MAAQM,SAASF,MAAMG,SAAU,KAArC,CAKJ+C,QAAS,CACT,cAGMF,KAAOA,KAAKtB,yBAA2BsB,KAE/C,IAAKA,KAAL,CASA,IAJA,GACCG,QADGC,KAAOL,IAEVG,QAAS,EAEHE,KAAK3B,oBAOX,GALA2B,KAAOA,KAAK3B,mBACZ0B,OAASC,KAAK3E,YAAciB,KAE5BM,MAAQL,kBAAA,WAAQyD,QAEZD,OAASjD,SAASF,MAAMK,SAAU,KAI7B8C,OAASjD,SAASF,MAAMG,SAAS,KAArC,CAKJ+C,QAAS,CACT,OAIGA,SAMLnD,cAAciD,KAAMpD,OAGpBG,cAAcqD,KAAMD,aAItB,QAASpD,eAAcZ,MAAOS,OAC7BT,MAAQI,mBAAA,WAAOC,iBAAA,WAAOL,MAAO,eAAiBA,MAC9CkC,cAAA,WAAIlC,OAAQS,MAAOA,MAAO,ODjb3ByD,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,GAKR,IAAIC,mBAAoBhG,QCTP,wBDWb+B,mBAAqBpB,uBAAuBqF,kBAEhDhG,SCZO,8BDcPA,QCbO,4BDeP,IAAIiG,oBAAqBjG,QCdC,yBDgBtBsE,oBAAsB3D,uBAAuBsF,oBAI7CC,iBAAmBlG,QCjBN,uBDmBbqE,kBAAoB1D,uBAAuBuF,kBAE3CC,eAAiBnG,QCpBN,qBDsBX4B,gBAAkBjB,uBAAuBwF,gBAEzCC,qBAAuBpG,QCvBN,2BDyBjBqG,sBAAwB1F,uBAAuByF,sBAE/CE,kBAAoBtG,QC1BN,wBD4BduG,mBAAqB5F,uBAAuB2F,mBAE5CE,kBAAoBxG,QC7BN,wBD+Bd+C,mBAAqBpC,uBAAuB6F,mBAE5CC,kBAAoBzG,QChCN,wBDkCdqF,mBAAqB1E,uBAAuB8F,mBAI5CC,mBAAqB1G,QCnCH,yBDqClB4D,oBAAsBjD,uBAAuB+F,oBAE7CC,yBAA2B3G,QCtCH,+BDwCxBgB,0BAA4BL,uBAAuBgG,0BAEnDC,uBAAyB5G,QCzCH,6BD2CtBkF,wBAA0BvE,uBAAuBiG,wBAEjDC,iBAAmB7G,QC5CH,uBD8ChB8G,kBAAoBnG,uBAAuBkG,kBAE3CE,cAAgB/G,QC/CH,oBDmDbgH,gBAFiBrG,uBAAuBoG,eAEvB/G,QClDH,sBDoDdkD,gBAAkBvC,uBAAuBqG,gBAEzCC,cAAgBjH,QCrDH,oBDuDb0B,eAAiBf,uBAAuBsG,eAExCC,eAAiBlH,QCxDH,qBD0DdmH,gBAAkBxG,uBAAuBuG,gBAEzCE,gBAAkBpH,QC3DH,sBD6DfgC,iBAAmBrB,uBAAuByG,iBAE1CC,cAAgBrH,QC9DH,oBDgEbyB,eAAiBd,uBAAuB0G,eAExCC,aAAetH,QCjEH,mBDmEZ6D,cAAgBlD,uBAAuB2G,cAEvCC,iBAAmBvH,QCpEH,uBDsEhBmC,kBAAoBxB,uBAAuB4G,kBAE3CC,kBAAoBxH,QCtEH,wBDwEjBqB,mBAAqBV,uBAAuB6G,mBAE5CC,qBAAuBzH,QCzEH,2BD2EpB6E,sBAAwBlE,uBAAuB8G,sBAE/CC,qBAAuB1H,QC5EH,2BD8EpBgF,sBAAwBrE,uBAAuB+G,sBAE/CC,kBAAoB3H,QC/EH,wBAGjBkB,cD8EqBP,uBAAuBgH,mBC9E7B,IAWnBtB,uBAAA,WAAS,0BAA2B,QAAS,SAAC7G,GAC7C,GAAImC,OAAQmF,kBAAA,WAAQtH,EAAEoI,OAAQ,SAC1BjG,SACH6D,KAAO7D,MAAMuC,uBACTsB,MACHnB,kBAAA,WAAKmB,KAAM,aAQd5D,gBAAA,WAAG2C,OAAQ,SAAU,WAGpB7C,eAAA,WAAK,YAAa,SAACN,UAElB,GAAIE,QAASF,SAASyG,iBAAiB,UAEnCC,WAAa,GACbC,SAAW,EAEVhH,WAKJ+G,WAAa1G,SAAS4B,WAAW/B,YACjC8G,SAAWzG,OAAOd,OAASsH,WAE3BC,UAAY,KACZD,YAAc,MAPdlE,oBAAA,WAAUxC,SAAU,aAAc,IAUnCyC,cAAA,WAAIzC,UACHgB,MAAO2F,WAGRlE,cAAA,WAAIvC,QACHc,MAAO0F,YAIR,IAAIE,UAAWb,gBAAA,WAAM,gBAAiB/F,SAGtCiD,mBAAA,WAAK2D,SAAU,cAKjBzB,mBAAA,WAAM,WACL3E,gBAAA,WAAGqG,SAASC,KAAM,UAAW,SAAC1I,GAC7B,GAAIsF,GACJ,QAAQtF,EAAE2I,OACT,IAAK,IACJrD,GAAKqC,gBAAA,WAAM,2BAA2BjD,sBACvC,MACA,KAAK,IACJY,GAAKqC,gBAAA,WAAM,2BAA2BlD,mBAGpCa,IACHT,kBAAA,WAAKS,GAAI,cDiFZxE,QAAQ,WC3EO,SAAU8H,OAExB1G,eAAA,WAAK0G,MAAOjH,eAuUW,mBAAZkH,UACVA,OAAOC,GAAGzG,UAAY,WACrBwC,kBAAA,WAAKkE,KAAM,YDkEd7H,OAAOJ,QAAUA,QAAQ,aAEtBkI,uBAAuB,EAAEC,mBAAmB,EAAEC,4BAA4B,EAAEC,kBAAkB,EAAEC,sBAAsB,EAAEC,8BAA8B,EAAEC,mBAAmB,EAAEC,qBAAqB,GAAGC,mBAAmB,GAAGC,uBAAuB,GAAGC,oBAAoB,GAAGC,sBAAsB,GAAGC,oBAAoB,GAAGC,0BAA0B,GAAGC,0BAA0B,GAAGC,wBAAwB,GAAGC,0BAA0B,GAAGC,sBAAsB,GAAGC,oBAAoB,GAAGC,uBAAuB,GAAGC,uBAAuB,GAAGC,uBAAuB,GAAGC,uBAAuB,GAAGC,6BAA6B,GAAGC,wBAAwB,GAAGC,4BAA4B,KAAKC,GAAG,SAASlK,QAAQU,OAAOJ,SAEhsB,YAOA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KE7f1E,QAASuJ,UAASC,OAGhC1I,eAAA,WAAK0I,MAAO,SAACC,KAGZ,GAAI7F,QAASU,wBAAA,WAAc,UAC1BoF,UAAW,QACXnF,UAAW,oBAGZkF,KAAIjF,YAAYZ,QAEhB5C,gBAAA,WAAG,oBAAqB,QAAS,SAACpC,GACjCA,EAAE8D,iBACF9D,EAAE+D,kBACFsB,sBAAA,WAAA7D,0BAAA,WAA6B,oBAI9BU,eAAA,WAAK,mBAAoB,SAACC,OACzB,GAAI4I,MAAO5I,MAAM6I,aAAa,mBAAqB7I,MAAM8I,MACrD7F,KAAOM,wBAAA,WAAc,KAAMoF,UAAWC,MAC1CG,gBAAA,WAAK9F,MACJ+F,gBAAkBzH,gBAAA,WAAMvB,SAEzB0I,IAAIjF,YAAYR,MAEhBhD,gBAAA,WAAGgD,KAAM,QAAS,WACjBP,kBAAA,WAAK1C,MAAO,YAGbC,gBAAA,WAAGD,MAAO,SAAU,SAACnC,GACpBqF,sBAAA,WAAYD,KAAM,cAMpBhD,gBAAA,WAAGqG,SAASC,KAAM,QAAS,SAAC1I,GACvBoL,mBAAA,WAAA5J,0BAAA,WAA0B,oBAAsB8F,kBAAA,WAAQtH,EAAEoI,OAAQ,cAAcpH,SACnFhB,EAAE8D,iBACF9D,EAAE+D,kBACFyB,sBAAA,WAAAhE,0BAAA,WAA6B,qBAI/BiH,SAASC,KAAK9C,YAAYiF,OFyc5BxE,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,IAERzF,QAAQ,WE3fgB6J,QF+fxB,IAAIjE,kBAAmBlG,QE/gBN,uBFihBbqE,kBAAoB1D,uBAAuBuF,kBAE3CC,eAAiBnG,QElhBN,qBFohBX4B,gBAAkBjB,uBAAuBwF,gBAIzCmB,aAAetH,QErhBH,mBFyhBZ2G,0BAFgBhG,uBAAuB2G,cAEZtH,QExhBH,gCF0hBxBgB,0BAA4BL,uBAAuBgG,0BAEnDC,uBAAyB5G,QE3hBH,6BF6hBtBkF,wBAA0BvE,uBAAuBiG,wBAEjDC,iBAAmB7G,QE9hBH,uBFgiBhB8G,kBAAoBnG,uBAAuBkG,kBAE3CY,qBAAuBzH,QEjiBH,2BFmiBpB6E,sBAAwBlE,uBAAuB8G,sBAE/CC,qBAAuB1H,QEpiBH,2BFsiBpBgF,sBAAwBrE,uBAAuB+G,sBAE/CC,kBAAoB3H,QEviBH,wBFyiBjB4K,mBAAqBjK,uBAAuBgH,mBAE5CZ,cAAgB/G,QE1iBH,oBF4iBb0K,eAAiB/J,uBAAuBoG,eAExCC,eAAiBhH,QE7iBH,qBF+iBdkD,gBAAkBvC,uBAAuBqG,gBAEzCC,cAAgBjH,QEhjBH,oBFkjBb0B,eAAiBf,uBAAuBsG,cAuD5CvG,QAAOJ,QAAUA,QAAQ,aAEtBmI,mBAAmB,EAAEC,4BAA4B,EAAEC,kBAAkB,EAAEE,8BAA8B,EAAEC,mBAAmB,EAAEG,uBAAuB,GAAGC,oBAAoB,GAAGC,sBAAsB,GAAGE,0BAA0B,GAAGC,0BAA0B,GAAGG,sBAAsB,GAAGC,oBAAoB,KAAKmB,GAAG,SAAS7K,QAAQU,OAAOJ,SAEhV,YAMA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAJzFiF,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,GAKR,IAAI+E,OAAQ9K,QGloBK,UHooBb+K,OAASpK,uBAAuBmK,OAEhCE,UAAYhL,QGroBK,cHuoBjBiL,WAAatK,uBAAuBqK,UAExC1K,SAAQ,WGvoBO,SAAS4K,SAAU/F,WACjC,MAAO4F,QAAA,WAAKG,SAAU,SAACpG,IACjBmG,WAAA,WAASnG,GAAIK,aACjBL,GAAGK,WAAa,IAAMA,cH4oBzBzE,OAAOJ,QAAUA,QAAQ,aAEtB6K,SAAS,EAAEC,aAAa,KAAKC,GAAG,SAASrL,QAAQU,OAAOJ,SAC3D,YAMA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAJzFiF,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,GAKR,IAAI+E,OAAQ9K,QI9pBK,UJgqBb+K,OAASpK,uBAAuBmK,MAEpCxK,SAAQ,WIhqBO,SAAS4K,SAAUI,OACjC,MAAOP,QAAA,WAAKG,SAAU,SAACK,SACtB,IAAK,GAAIxG,KAAKuG,OACbC,QAAQC,aAAazG,EAAGuG,MAAMvG,OJqqBjCrE,OAAOJ,QAAUA,QAAQ,aAEtB6K,SAAS,IAAIM,GAAG,SAASzL,QAAQU,OAAOJ,SAC3C,YAMA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAJzFiF,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,GAKR,IAAI2F,eAAgB1L,QKprBD,oBLsrBf2L,eAAiBhL,uBAAuB+K,cAE5CpL,SAAQ,WKtrBO,SAAUsL,QAASC,MACjC,GAAIC,KAAM7D,SAAS8D,cAAcH,QAEjC,OADAD,gBAAA,WAAOG,IAAKD,MACLC,KLyrBRpL,OAAOJ,QAAUA,QAAQ,aAEtB0L,mBAAmB,KAAKC,GAAG,SAASjM,QAAQU,OAAOJ,SAEtD,YAOA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KMvsB1E,QAASsL,KAAIhB,SAAUI,OACrC,MAAOP,QAAA,WAAKG,SAAU,SAACpG,IACtB,IAAK,GAAIqH,OAAOb,OACfxG,GAAGtC,MAAM2J,KAAOb,MAAMa,ON+rBzBtG,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,IAERzF,QAAQ,WMrsBgB4L,GNysBxB,IAAIpB,OAAQ9K,QM3sBK,UN6sBb+K,OAASpK,uBAAuBmK,MAUpCpK,QAAOJ,QAAUA,QAAQ,aAEtB6K,SAAS,IAAIiB,GAAG,SAASpM,QAAQU,OAAOJ,SAE3C,YAMA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAJzFiF,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,GAKR,IAAI+E,OAAQ9K,QOnuBK,UPquBb+K,OAASpK,uBAAuBmK,MAEpCxK,SAAQ,WOruBO,SAAU4K,UACxB,GAAIY,KAAMf,OAAA,WAAKG,UAAU,EACzB,OAAO3G,QAAO8H,iBAAiBP,MPwuBhCpL,OAAOJ,QAAUA,QAAQ,aAEtB6K,SAAS,IAAImB,GAAG,SAAStM,QAAQU,OAAOJ,SAC3C,YAEAuF,QAAOC,eAAexF,QAAS,cAC7ByF,OAAO,IAETzF,QAAQ,WQrvBO2H,SAASsE,gBRsvBxB7L,OAAOJ,QAAUA,QAAQ,gBAEnBkM,GAAG,SAASxM,QAAQU,OAAOJ,SACjC,YSzvBe,SAASmM,MAAKC,STiwB5B,GSjwBqCC,UAAQlI,UAAAjE,QAAA,GAAAkE,SAAAD,UAAA,GAAG,aAAYA,UAAA,EAE5D,IAAIiI,kBAAmBE,UAAWF,kBAAmBG,eAAgBH,kBAAmBI,QAEvF,MADAH,UAASD,UACDA,QAOT,IAJwB,gBAAbA,WACVA,QAAUzE,SAASJ,iBAAiB6E,UAGjCC,SAEH,IAAK,GAAI1M,GAAI,EAAGA,EAAIyM,QAAQlM,OAAQP,IACnC0M,SAASpM,KAAKmM,QAAQzM,GAAIyM,QAAQzM,GAAIA,EAIxC,OAAOyM,aTyuBR7G,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,IAERzF,QAAQ,WS9vBgBmM,KTsxBxB/L,OAAOJ,QAAUA,QAAQ,gBAEnByM,IAAI,SAAS/M,QAAQU,OAAOJ,SAClC,YAMA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAJzFiF,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,GAKR,IAAI+E,OAAQ9K,QUjyBK,UVmyBb+K,OAASpK,uBAAuBmK,OAEhCkC,SAAWhN,QUpyBK,aVsyBhBiN,UAAYtM,uBAAuBqM,SAEvC1M,SAAQ,WUtyBO,SAAS4K,SAAU9C,OACjC,GAAIrI,KAQJ,OANAgL,QAAA,WAAKG,SAAU,SAACpG,IACXmI,UAAA,WAAQnI,GAAIsD,QACfrI,EAAEmN,KAAKpI,MAIF/E,GVyyBRW,OAAOJ,QAAUA,QAAQ,aAEtB6K,SAAS,EAAEgC,YAAY,KAAKC,IAAI,SAASpN,QAAQU,OAAOJ,SAC3D,YAMA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAJzFiF,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,GAKR,IAAIsH,QAASrN,QWh0BK,WXk0BdsN,QAAU3M,uBAAuB0M,QAEjCL,SAAWhN,QWn0BK,aXq0BhBiN,UAAYtM,uBAAuBqM,SAEvC1M,SAAQ,WWr0BO,SAAS4K,SAAU9C,OACjC,MAAOkF,SAAA,WAAMpC,SAAU,SAACpG,IACvB,MAAImI,WAAA,WAAQnI,GAAIsD,OACRtD,GADR,UX20BFpE,OAAOJ,QAAUA,QAAQ,aAEtB6M,YAAY,GAAGI,UAAU,KAAKC,IAAI,SAASxN,QAAQU,OAAOJ,SAC7D,YAMA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAJzFiF,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,GAKR,IAAIsH,QAASrN,QY31BK,WZ61BdsN,QAAU3M,uBAAuB0M,OAErC/M,SAAQ,WY71BO,SAAS4K,SAAU/F,WACjC,GAAIsI,KAAM,GAAIC,QAAO,UAAUvI,UAAU,UAAW,IACpD,OAAOmI,SAAA,WAAMpC,SAAU,SAACpG,IACvB,MAAOA,IAAGK,WAAaL,GAAGK,UAAUiD,MAAMqF,QZi2B5C/M,OAAOJ,QAAUA,QAAQ,aAEtBiN,UAAU,KAAKI,IAAI,SAAS3N,QAAQU,OAAOJ,SAC9C,YAEAuF,QAAOC,eAAexF,QAAS,cAC9ByF,OAAO,IAGRzF,QAAQ,Wa/2BO,SAASsN,MACvB,MAAOC,OAAMC,UAAUC,QAAQxN,KAAKqN,KAAK5K,WAAWzB,SAAUqM,Obk3B/DlN,OAAOJ,QAAUA,QAAQ,gBAEnB0N,IAAI,SAAShO,QAAQU,OAAOJ,SAClC,YAMA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAJzFiF,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,GAKR,IAAIsH,QAASrN,Qc93BK,Wdg4BdsN,QAAU3M,uBAAuB0M,OAErC/M,SAAQ,Wch4BO,SAAS4K,SAAUd,OAEjC,GAAI6D,SAAU7D,KASd,OAPqB,gBAAVA,SACV6D,QAAU,SAACnJ,IACV,GAAIoJ,MAAQpJ,GAAG4H,SAAW5H,GAAGqJ,oBAAsBrJ,GAAGsJ,uBAAyBtJ,GAAGuJ,mBAAqBvJ,GAAGwJ,gBAC1G,OAAOJ,MAAK3N,KAAKuE,GAAIsF,SAIhBkD,QAAA,WAAMpC,SAAU+C,Udm4BxBvN,OAAOJ,QAAUA,QAAQ,aAEtBiN,UAAU,KAAKgB,IAAI,SAASvO,QAAQU,OAAOJ,SAG9C,YAMA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAJzFiF,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,GAKR,IAAI+E,OAAQ9K,Qe35BK,Uf65Bb+K,OAASpK,uBAAuBmK,OAEhCkC,SAAWhN,Qe95BK,afg6BhBiN,UAAYtM,uBAAuBqM,UAEnCwB,iBAAmBxO,Qej6BK,qBfm6BxByO,kBAAoB9N,uBAAuB6N,iBAE/ClO,SAAQ,Wen6BO,SAAS4K,SAAU9C,OACjC,GAAIsG,KAkBJ,OAjBA3D,QAAA,WAAKG,SAAU,SAACpG,IACf,KAAMA,IAAMA,GAAG9B,aACd8B,GAAKA,GAAG9B,WAEJ8B,KAAOmD,WACVnD,GAAE2J,kBAAA,YAGCxB,UAAA,WAAQnI,GAAIsD,QACfsG,EAAExB,KAAKpI,IAGJA,KAAE2J,kBAAA,iBAKDC,Gfs6BRhO,OAAOJ,QAAUA,QAAQ,aAEtBqO,oBAAoB,EAAExD,SAAS,EAAEgC,YAAY,KAAKyB,IAAI,SAAS5O,QAAQU,OAAOJ,SAEjF,YAEAuF,QAAOC,eAAexF,QAAS,cAC9ByF,OAAO,IAGRzF,QAAQ,WgBx8BO,SAAS8J,OhBy8BvB,GgBz8B8ByE,QAAMpK,UAAAjE,QAAA,GAAAkE,SAAAD,UAAA,GAAGwD,SAAQxD,UAAA,EAC/C,OAAOoK,QAAOC,cAAc1E,QhB68B7B1J,OAAOJ,QAAUA,QAAQ,gBAEnByO,IAAI,SAAS/O,QAAQU,OAAOJ,SAElC,YAMA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAJzFiF,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,GAKR,IAAI+E,OAAQ9K,QiB19BK,UjB49Bb+K,OAASpK,uBAAuBmK,MAEpCxK,SAAQ,WiB59BO,SAAS4K,SAAU/F,WACjC,GAAIsI,KAAM,GAAIC,QAAO,UAAUvI,UAAU,UAAW,KACpD,OAAO4F,QAAA,WAAKG,SAAU,SAACpG,IACtBA,GAAGK,UAAYL,GAAGK,UAAU6J,QAAQvB,IAAK,QjBg+B3C/M,OAAOJ,QAAUA,QAAQ,aAEtB6K,SAAS,IAAI8D,IAAI,SAASjP,QAAQU,OAAOJ,SAC5C,YAMA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAJzFiF,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,GAKR,IAAI+E,OAAQ9K,QkBj/BK,UlBm/Bb+K,OAASpK,uBAAuBmK,OAEhCoE,UAAYlP,QkBp/BK,clBs/BjBmP,WAAaxO,uBAAuBuO,WAEpCE,aAAepP,QkBv/BK,iBlBy/BpBqP,cAAgB1O,uBAAuByO,cAEvCpE,UAAYhL,QkB1/BK,clB4/BjBiL,WAAatK,uBAAuBqK,UAExC1K,SAAQ,WkB5/BO,SAAS4K,SAAU/F,UAAWmK,WAQ5C,MAN0B,kBAAfA,aACVA,UAAY,SAASxK,IACpB,OAAQmG,WAAA,WAASnG,GAAIK,aAIhB4F,OAAA,WAAKG,SAAU,SAACpG,IAClBwK,UAAUxK,IACbqK,WAAA,WAASrK,GAAIK,WAGbkK,cAAA,WAAYvK,GAAIK,clBggCnBzE,OAAOJ,QAAUA,QAAQ,aAEtBiP,aAAa,EAAEpE,SAAS,EAAEC,aAAa,GAAGoE,gBAAgB,KAAKC,IAAI,SAASzP,QAAQU,OAAOJ,SAG9F,YAOA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KmBzhC1E,QAAS8O,WAAUnE,QAASM,KAAM9F,OAChD,GAAIhB,GAAI8G,KAAO,IAAM9F,MAAQ,GACzB4J,sBAAA,YAAgC,eAAT9D,OAC1B9G,EAAI,iCAAiCgB,OAAO,KAAK,MAElD,IAAIlG,IACH6P,UAAW3K,EACX6K,YAAa7K,EACb8K,aAAc9K,EACd+K,gBAAiB/K,EAElB,OAAOgL,OAAA,WAAIxE,QAAS1L,GnBygCrBgG,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,IAERzF,QAAQ,WmBvhCgBoP,SnB2hCxB,IAAIM,MAAOhQ,QmB9hCK,SnBgiCZ+P,MAAQpP,uBAAuBqP,MAE/BC,oBAAsBjQ,QmBjiCM,0BnBmiC5B2P,qBAAuBhP,uBAAuBsP,oBAgBlDvP,QAAOJ,QAAUA,QAAQ,aAEtB4P,yBAAyB,GAAGC,QAAQ,IAAIC,IAAI,SAASpQ,QAAQU,OAAOJ,SACvE,YAMA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAJzFiF,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,GAKR,IAAI+E,OAAQ9K,QoBjkCK,UpBmkCb+K,OAASpK,uBAAuBmK,MAEpCxK,SAAQ,WoBnkCO,SAAS4K,SAAUyB,UACjC,GAAI0D,KAQJ,OANAtF,QAAA,WAAKG,SAAU,SAACpG,IACVuL,OACJA,KAAO1D,SAAS7H,OAIXuL,MpBskCR3P,OAAOJ,QAAUA,QAAQ,aAEtB6K,SAAS,IAAImF,IAAI,SAAStQ,QAAQU,OAAOJ,SAC5C,YAOA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KqBxlC1E,QAAS2P,UAASnI,MAAOoI,UAAWvC,SrBmmClD,GqBnmC2DwC,MAAIhM,UAAAjE,QAAA,GAAAkE,SAAAD,UAAA,GAAGwD,SAAQxD,UAAA,EAC1E,OAAOiM,MAAA,WAAGD,KAAMD,UAAW,SAAChR,GACvBmR,aAAA,WAAQnR,EAAEoI,OAAQQ,QACrB6F,QAAQzO,KrBglCXqG,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,IAERzF,QAAQ,WqBtlCgBiQ,QrB0lCxB,IAAIK,KAAM5Q,QqB7lCK,QrB+lCX0Q,KAAO/P,uBAAuBiQ,KAE9BC,YAAc7Q,QqBhmCE,kBrBkmChB2Q,aAAehQ,uBAAuBkQ,YAY1CnQ,QAAOJ,QAAUA,QAAQ,aAEtBwQ,iBAAiB,GAAGC,OAAO,KAAKC,IAAI,SAAShR,QAAQU,OAAOJ,SAI/D,YAOA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KsBvmC1E,QAASqQ,MAAK/F,SAAUgG,WACtC,MAAOC,WAAA,WAAKjG,SAAU,SAACpG,IACtBA,GAAGsM,cAAcC,YAAYH,ctBgmC/BrL,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,IAERzF,QAAQ,WsBrmCgB2Q,ItBymCxB,IAAIK,UAAWtR,QsB3nCE,etB6nCbmR,UAAYxQ,uBAAuB2Q,UsBxnCnCD,YAAc,SAACH,WAAe,MAAO,IAAIK,OAAML,WACnD,KACCG,YAAY,QAEb,MAAM7R,GACL6R,YAAc,SAACH,WACd,GAAI1R,GAAIyI,SAASoJ,YAAY,QAE7B,OADA7R,GAAEgS,UAAUN,WAAW,GAAM,GACtB1R,GtB0oCTkB,OAAOJ,QAAUA,QAAQ,aAEtBmR,cAAc,IAAIC,IAAI,SAAS1R,QAAQU,OAAOJ,SAIjD,YAOA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KuBlqC1E,QAAS+Q,IAAGzG,SAAU0G,WAAYjF,UvByqChD,GuBzqC0DkF,YAAUpN,UAAAjE,QAAA,GAAAkE,SAAAD,UAAA,IAAG,EAAKA,UAAA,EAE5E,OADAmN,YAAaA,WAAWE,MAAM,OACvBX,UAAA,WAAKjG,SAAU,SAACpG,IACtB8M,WAAWG,QAAQ,SAACb,WvB2qCnB,MuB3qCiCpM,IAAGkN,iBAAiBd,UAAWvE,SAAUkF,gBvB0pC7EhM,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,IAERzF,QAAQ,WuBhqCgBqR,EvBoqCxB,IAAIL,UAAWtR,QuBtqCE,evBwqCbmR,UAAYxQ,uBAAuB2Q,SAcvC5Q,QAAOJ,QAAUA,QAAQ,aAEtBmR,cAAc,IAAIQ,IAAI,SAASjS,QAAQU,OAAOJ,SACjD,YAOA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KwBjsC1E,QAASsR,OAAMvF,UACD,YAAxB1E,SAASkK,YAA4BlK,SAASC,KACjDyE,WAGA+D,KAAA,WAAGzI,SAAU,mBAAoB0E,UxBurCnC9G,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,IAERzF,QAAQ,WwB/rCgB4R,KxBmsCxB,IAAItB,KAAM5Q,QwBrsCK,QxBusCX0Q,KAAO/P,uBAAuBiQ,IAUlClQ,QAAOJ,QAAUA,QAAQ,aAEtByQ,OAAO,KAAKqB,IAAI,SAASpS,QAAQU,OAAOJ,SAI3C,YAOA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KyBztC1E,QAASyR,OAAMnH,SAAUyB,UAEvC,MAAO2F,SAAA,WAAMpH,SAAU,SAAS1L,EAAGK,EAAGD,GAErC2S,OAAAnP,QAAQ5D,EAAEI,GAEVJ,EAAE4D,QAAQC,KAAO,OAAS7D,EAAE4D,QAAQO,UAEpCgJ,SAASpM,KAAKgI,KAAM/I,IAElB,SAASA,KAET,SAASA,EAAGI,GAEVJ,EAAE4D,QAAQoP,UAAY,KAAOhT,EAAE4D,QAAQqP,SAAW,IAAMjT,EAAE4D,QAAQsP,SAAW,GAChFlT,EAAE4D,QAAQC,KAAO,QAAU7D,EAAE4D,QAAQO,UAGrCnE,EAAE4D,QAAQC,KAAO,UAIlBsJ,SAASpM,KAAKgI,KAAM/I,KzB8rCtBqG,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,IAERzF,QAAQ,WyBvtCgB+R,KzB2tCxB,IAAIE,QAASvS,QyB7tCgB,WzB+tCzBsS,QAAU3R,uBAAuB4R,OAwBrC7R,QAAOJ,QAAUA,QAAQ,aAEtBqS,UAAU,KAAKC,IAAI,SAAS5S,QAAQU,OAAOJ,SAK9C,YAQA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,K0BzvC1E,QAASiS,OAAM3H,SAAU4H,OAAQC,QAASC,OAGxD,GAAIC,OAASC,MAASC,MAEtBzC,MAAA,WAAGzI,SAAUmL,eAAgB,SAACC,WAQ7B,IAAIC,UAAUD,WAAd,CAMA,GAAIpT,GAAIoT,UAAUE,WAAa,EAC3BtF,QAAUgF,GAAGhT,EAEjB,IAAIgO,SAA+B,kBAAbA,SAAyB,CAE9C,GAAIuF,WAAYN,GAAGjT,EAGnBmD,SAAQiQ,UAAWG,WAGnBvF,QAAQoF,UAAWG,WAGpBN,GAAGjT,GAAKoT,aAGT3C,KAAA,WAAGzI,SAAUwL,cAAe,SAACjU,GAE5B,GAAIS,GAAIT,EAAE+T,WAAa,CACvBN,IAAGhT,GAAK,MAEO,aAAXT,EAAE6D,MAAkC,gBAAX7D,EAAE6D,QAC9B7D,EAAI0T,GAAGjT,GAGR,IAAIgO,SAAUkF,IAAIlT,EACdgO,UACHA,QAAQzO,GAGT2T,IAAIlT,GAAK,OAIVkR,UAAA,WAAKjG,SAAU,SAACK,SAQfmF,KAAA,WAAGnF,QAAS,cAAe,SAAC/L,GAAO,OAAO,IAE1CkR,KAAA,WAAGnF,QAASmI,gBAAiB,SAACC,YAG7B,GAAI1T,GAAI0T,WAAWJ,WAAa,CAIhC,IAAII,WAAWC,SAAWD,WAAWC,QAAQpT,OAAQ,CACpD,GAAIqT,IAAKF,WAAWG,SACpBH,YAAaA,WAAWC,QAAQ,GAChCD,WAAWG,UAAYD,GAIxBzQ,QAAQuQ,YAERT,GAAGjT,GAAK0T,WACRV,GAAGhT,GAAK,SAACoT,UAAWU,eACnBjB,OAAOvS,KAAKgL,QAAS8H,UAAWU,cAAeJ,aAG5CX,QACHG,IAAIlT,GAAK,SAAC+T,UAGT5Q,QAAQ4Q,SAAUL,YAGlBX,MAAMzS,KAAKgL,QAASyI,SAAUL,cAK5BZ,SACHA,QAAQxS,KAAKgL,QAASoI,gBAMnB,QAASvQ,SAAQ6Q,UAAWT,WAwBlC,GArBAS,UAAU7Q,WAEN6Q,WAAaA,UAAUL,SAAWK,UAAUL,QAAQpT,OAAS,EAChEyT,UAAU7Q,QAAQwQ,QAAUK,UAAUL,QAGtCK,UAAU7Q,QAAQwQ,SAAWK,WAG9BA,UAAU7Q,QAAQkC,QAAU2O,UAAU7Q,QAAQwQ,QAAQ,GAAGtO,QACzD2O,UAAU7Q,QAAQ8Q,QAAUD,UAAU7Q,QAAQwQ,QAAQ,GAAGM,QAEpDD,UAAU3O,UACd2O,UAAU3O,QAAU2O,UAAU7Q,QAAQkC,SAElC2O,UAAUC,UACdD,UAAUC,QAAUD,UAAU7Q,QAAQ8Q,SAKnCV,UAAW,CAEdS,UAAU7Q,QAAQoP,UAAayB,UAAUH,UAAYN,UAAUM,SAE/D,IAAIrQ,IAAKwQ,UAAU7Q,QAAQM,OAASuQ,UAAU7Q,QAAQkC,QAAUkO,UAAUpQ,QAAQkC,QAC9E6O,GAAKF,UAAU7Q,QAAQgR,OAASH,UAAU7Q,QAAQ8Q,QAAUV,UAAUpQ,QAAQ8Q,OAG9E/P,MAAKC,IAAI+P,IAAMhQ,KAAKC,IAAIX,IAC3BwQ,UAAU7Q,QAAQO,UAAawQ,GAAK,EAAI,KAAO,OAG/CF,UAAU7Q,QAAQO,UAAaF,GAAK,EAAI,QAAU,OAInDwQ,UAAU7Q,QAAQqP,SAAWtO,KAAKkQ,KAAK5Q,GAAMA,GAAO0Q,GAAKA,IAGzDF,UAAU7Q,QAAQsP,SAAWuB,UAAU7Q,QAAQqP,SAAWwB,UAAU7Q,QAAQoP,WAK9E,QAASc,WAAUgB,OAClB,GAAIjR,MAAOiR,MAAMC,aAAeD,MAAMjR,IACtC,OAAQA,MAAK+E,MAAM,WAAgD,KAAlCkM,MAAMnM,OAASmM,MAAME,S1BylCvD3O,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,IAERzF,QAAQ,W0BtvCgBuS,M1BuvCxBvS,QAAQ8C,QAAUA,OAIlB,IAAIwN,KAAM5Q,Q0BvwCK,Q1BywCX0Q,KAAO/P,uBAAuBiQ,KAE9BU,SAAWtR,Q0B1wCE,e1B4wCbmR,UAAYxQ,uBAAuB2Q,U0BzwCjCmD,eAAiBlQ,OAAOmQ,UAAUD,eAClCrB,eAAiBqB,eAAiB,4BAA8B,sBAChEf,gBAAkBe,eAAiB,4BAA8B,uBACjEhB,cAAgBgB,eAAiB,wBAA0B,iC1Bg7C9DhD,cAAc,EAAEV,OAAO,KAAK4D,IAAI,SAAS3U,QAAQU,OAAOJ,SAO3D,YAMA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,K2B56CzF,QAASgU,OAAM9P,IAGd,GAAI+P,GAAI/P,GAAGgQ,aACVrV,EAAIqF,GAAGiQ,UAGJhV,EAAI8N,MAAMC,UAAUkH,MAAMzU,KAAKuE,GAAG+C,iBAAiB,iBAGvD9H,GAAIA,EAAEkV,OAAO,SAACC,KAEb,GAAIC,IAAKD,IAAIE,UACZC,GAAKH,IAAIJ,YAGV,OAAWK,IAAKE,IAAQ5V,GAAaA,EAAIoV,GAAZM,KAI9BpV,EAAEgS,QAAQ,SAACmD,KAGVA,IAAII,IAAMJ,IAAI1K,aAAa,YAC3B0K,IAAIK,gBAAgB,WAGpB,IAAIC,UAAWN,IAAI1K,aAAa,iBAE5BgL,YACHN,IAAIO,QAAU,WACbP,IAAII,IAAME,WAKRE,OAAO3H,QAAQmH,IAAII,KAAO,GAC7BK,KAAKT,KAGLA,IAAIU,OAAS,WACZD,KAAKT,KACLQ,OAAOxI,KAAKgI,IAAII,QAMpB,QAASK,MAAK7Q,IACb+Q,SAAA,WAAI/Q,IAAKgR,QAAQ,I3Bu3ClBjQ,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,GAKR,IAAIuL,UAAWtR,Q2Bp8CE,e3Bs8CbmR,UAAYxQ,uBAAuB2Q,UAEnCyE,QAAU/V,Q2Bv8CE,c3By8CZ6V,SAAWlV,uBAAuBoV,SAElCC,UAAYhW,Q2B18CD,gB3B48CXiW,WAAatV,uBAAuBqV,W2Bz8CpCN,S3B68CJpV,SAAQ,W2B58CO,SAAU4K,UAKxB,MAAOiG,WAAA,WAAKjG,SAAU,SAASpG,IAG9BmR,WAAA,WAAGnR,GAAI,SAAU,W3B68ChB,M2B78CsB8P,OAAM9P,MAG7B8P,MAAM9P,O3BsgDRpE,OAAOJ,QAAUA,QAAQ,aAEtB4V,aAAa,EAAEzE,cAAc,EAAE0E,eAAe,KAAKC,IAAI,SAASpW,QAAQU,OAAOJ,SAElF,YAEAuF,QAAOC,eAAexF,QAAS,cAC9ByF,OAAO,IAGRzF,QAAQ,W4BtiDO,SAASX,EAAGE,GAC1B,IAAK,GAAIkF,KAAKlF,GACbF,EAAEoF,GAAKlF,EAAEkF,EAEV,OAAOpF,I5ByiDRe,OAAOJ,QAAUA,QAAQ,gBAEnB+V,IAAI,SAASrW,QAAQU,OAAOJ,SAElC,YAEAuF,QAAOC,eAAexF,QAAS,cAC9ByF,OAAO,IAGRzF,QAAQ,W6BvjDO,SAAUgW,SAAUC,SAClCtO,SAASsE,gBAAgBpH,UAAY8C,SAASsE,gBAAgBpH,UAAY,KAAOoR,QAAQ,GAAG,OAASD,U7B2jDtG5V,OAAOJ,QAAUA,QAAQ,gBAEnBkW,IAAI,SAASxW,QAAQU,OAAOJ,SAGlC,YAIA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAFzF,GAAI6V,gBAAiB,WAAe,QAASC,eAAcC,IAAK1W,GAAK,GAAI2W,SAAeC,IAAK,EAAUC,IAAK,EAAWC,GAAKrS,MAAW,KAAM,IAAK,GAAiCsS,IAA7BC,GAAKN,IAAIO,OAAOC,cAAmBN,IAAMG,GAAKC,GAAGrR,QAAQwR,QAAoBR,KAAK1J,KAAK8J,GAAGjR,QAAY9F,GAAK2W,KAAKpW,SAAWP,GAA3D4W,IAAK,IAAoE,MAAOQ,KAAOP,IAAK,EAAMC,GAAKM,IAAO,QAAU,KAAWR,IAAMI,GAAG,WAAWA,GAAG,YAAe,QAAU,GAAIH,GAAI,KAAMC,KAAQ,MAAOH,MAAQ,MAAO,UAAUD,IAAK1W,GAAK,GAAI4N,MAAMyJ,QAAQX,KAAQ,MAAOA,IAAY,IAAIO,OAAOC,WAAYtR,QAAO8Q,KAAQ,MAAOD,eAAcC,IAAK1W,EAAa,MAAM,IAAIsX,WAAU,4DAInlBC,aAAexX,Q8BtkDE,mB9BwkDjByX,cAAgB9W,uBAAuB6W,c8BtkDvCE,KACHC,WAAY,kBACZC,SAAU,eAAgB,kBAC1BC,QAAS,aAAc,iBACvBC,UAAW,iBACXC,QAAS,cAAe,qBACxBC,OAAQ,mBACRC,IAAK,2BAGFC,GAAK3T,OAAOmQ,UAAUyD,UAEtBC,KAAO,SAACrY,G9BykDX,GAAIsY,IAAK5B,e8BxkDa1W,EAAC,GAAlBqI,MAAKiQ,GAAA,GAAEC,OAAMD,GAAA,EAClB,OAAOjQ,OAAMgQ,KAAKF,OAASI,QAAUA,OAAOF,KAAKF,MAG9C3N,KAAI7F,MACR,KAAK,GAAIK,KAAK2S,KACb,GAAIU,KAAKV,IAAI3S,IAAK,CACjBwF,KAAOxF,CACP,OAIEwF,MACHkN,cAAA,WAASxP,SAASsE,gBAAiBhC,Q9B+kDjCgO,kBAAkB,IAAIC,IAAI,SAASxY,QAAQU,OAAOJ,SAErD,YAMA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAJzFiF,OAAOC,eAAexF,QAAS,cAC7ByF,OAAO,GAKT,IAAI0S,SAAUzY,Q+BtnDK,Y/BwnDf0Y,SAAW/X,uBAAuB8X,SAElCE,aAAe3Y,Q+BznDK,iB/B2nDpB4Y,cAAgBjY,uBAAuBgY,c+BznDrCE,OAASH,SAAA,WAAO,WAEtBE,eAAA,WAAY,OAAQC,Q/B6nDpBvY,QAAQ,W+B3nDOuY,O/B4nDfnY,OAAOJ,QAAUA,QAAQ,aAEtBwY,gBAAgB,GAAGC,WAAW,KAAKC,IAAI,SAAShZ,QAAQU,OAAOJ,SAElE,YAMA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAJzFiF,OAAOC,eAAexF,QAAS,cAC7ByF,OAAO,GAKT,IAAI0S,SAAUzY,QgC/oDK,YhCipDf0Y,SAAW/X,uBAAuB8X,SAElCE,aAAe3Y,QgClpDK,iBhCopDpB4Y,cAAgBjY,uBAAuBgY,cgClpDrCE,OAASH,SAAA,WAAO;AAEtBE,cAAA,WAAY,aAAcC,QhCspD1BvY,QAAQ,WgCppDOuY,OhCqpDfnY,OAAOJ,QAAUA,QAAQ,aAEtBwY,gBAAgB,GAAGC,WAAW,KAAKE,IAAI,SAASjZ,QAAQU,OAAOJ,SAGlE,YiChqDe,SAAS4Y,QAAOrN,MAE9B,GAAIjM,GAAIqI,SAAU8D,cAAc,OAAQvJ,KAExC,OAAmBkC,UAAZ9E,EAAEiM,OACWnH,SAAlB9E,EAAE,MAAMiM,OACanH,SAArB9E,EAAE,SAASiM,OACMnH,SAAjB9E,EAAE,KAAKiM,OAGCnH,SAFR9E,EAAEiM,KAAKmD,QAAQ,KAAM,SAASN,GAC7B,MAAOA,GAAEyK,iBjCypDbtT,OAAOC,eAAexF,QAAS,cAC9ByF,OAAO,IAERzF,QAAQ,WiCrqDgB4Y,OjCgrDxBxY,OAAOJ,QAAUA,QAAQ,gBAEnB8Y,IAAI,SAASpZ,QAAQU,OAAOJ,SAClC,YAMA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAJzFiF,OAAOC,eAAexF,QAAS,cAC7ByF,OAAO,GAKT,IAAI4S,cAAe3Y,QkC7rDK,iBlC+rDpB4Y,cAAgBjY,uBAAuBgY,ckC7rDrCE,OAAU,gBAAkBtU,OAElCqU,eAAA,WAAY,QAASC,QlCisDrBvY,QAAQ,WkC/rDOuY,OlCgsDfnY,OAAOJ,QAAUA,QAAQ,aAEtBwY,gBAAgB,KAAKO,IAAI,SAASrZ,QAAQU,OAAOJ,SAEpD,YAMA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAJzFiF,OAAOC,eAAexF,QAAS,cAC7ByF,OAAO,GAKT,IAAI0S,SAAUzY,QmCjtDK,YnCmtDf0Y,SAAW/X,uBAAuB8X,SAElCE,aAAe3Y,QmCptDK,iBnCstDpB4Y,cAAgBjY,uBAAuBgY,cmCptDrCE,OAASH,SAAA,WAAO,YAEtBE,eAAA,WAAY,YAAaC,QnCwtDzBvY,QAAQ,WmCttDOuY,OnCutDfnY,OAAOJ,QAAUA,QAAQ,aAEtBwY,gBAAgB,GAAGC,WAAW,KAAKO,IAAI,SAAStZ,QAAQU,OAAOJ,SAElE,YAMA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAJzFiF,OAAOC,eAAexF,QAAS,cAC7ByF,OAAO,GAKT,IAAI0S,SAAUzY,QoC1uDK,YpC4uDf0Y,SAAW/X,uBAAuB8X,SAElCE,aAAe3Y,QoC7uDK,iBpC+uDpB4Y,cAAgBjY,uBAAuBgY,coC7uDrCE,OAASH,SAAA,WAAO,cACtBE,eAAA,WAAY,cAAeC,QpCivD3BvY,QAAQ,WoC/uDOuY,OpCgvDfnY,OAAOJ,QAAUA,QAAQ,aAEtBwY,gBAAgB,GAAGC,WAAW,KAAKQ,IAAI,SAASvZ,QAAQU,OAAOJ,SAElE,YAEA,SAASK,wBAAuBC,KAAO,MAAOA,MAAOA,IAAIC,WAAaD,KAAQE,UAAWF,KAEzFZ,QqC9vDO,wBrCgwDPA,QqC/vDO,8BrCiwDPA,QqChwDO,6BrCkwDPA,QqCjwDO,yBrCmwDPA,QqClwDO,0BrCswDP,IAAIkG,kBAAmBlG,QqCnwDN,uBrCqwDbqE,kBAAoB1D,uBAAuBuF,kBAE3CI,kBAAoBtG,QqCtwDN,wBrCwwDduG,mBAAqB5F,uBAAuB2F,mBAI5CkT,oBAAsBxZ,QqCzwDN,0BrC2wDhByZ,qBAAuB9Y,uBAAuB6Y,qBAE9CE,UAAY1Z,QqC5wDK,crC8wDjB2Z,WAAahZ,uBAAuB+Y,WAEpCE,UAAY5Z,QqC/wDK,crCixDjB6Z,WAAalZ,uBAAuBiZ,UqC/wDxCrT,oBAAA,WAAM,WAILsT,WAAA,WAAS,aAKTJ,qBAAA,WAAQ,aAKRE,WAAA,WAAS,cAGTtV,kBAAA,WAAKE,OAAQ,crCoxDXuV,aAAa,EAAEC,aAAa,EAAEtQ,sBAAsB,GAAGE,uBAAuB,GAAGqQ,yBAAyB,GAAGC,0BAA0B,GAAGnQ,uBAAuB,GAAGC,6BAA6B,GAAGC,wBAAwB,GAAGC,4BAA4B,UAAU","file":"workspace.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",null,"// Frameset\n// Make child elements flexible frame like\n\n// Supports...\nimport flex from './utils/support/flex';\nimport './utils/support/legacyflex';\nimport './utils/support/transform';\nimport supportsTouch from './utils/support/touch';\n\n// Events\nimport emit from './utils/events/emit';\nimport on from './utils/events/on';\nimport delegate from './utils/events/delegate';\nimport ready from './utils/events/ready';\nimport swipe from './utils/events/swipe';\nimport touch from './utils/events/touch';\n\n// DOM\nimport transform from './utils/dom/transform';\nimport documentElement from './utils/dom/documentElement';\nimport createElement from './utils/dom/createElement';\nimport parents from './utils/dom/parents';\nimport attr from './utils/dom/attr';\nimport index from './utils/dom/index';\nimport each from './utils/dom/each';\nimport query from './utils/dom/query';\nimport filter from './utils/dom/filter';\nimport find from './utils/dom/find';\nimport css from './utils/dom/css';\nimport cssCalc from './utils/dom/cssCalc';\n\nimport addClass from './utils/dom/addClass';\nimport toggleClass from './utils/dom/toggleClass';\nimport removeClass from './utils/dom/removeClass';\nimport hasClass from './utils/dom/hasClass';\n\n\nvar MOBILE_WIDTH = 850;\n\n//\n// Check if the view is in mobile mode.\n// mobile() looks at window width to determine the mobile mode, essentially its just small screen\nfunction mobile() {\n\treturn (documentElement.offsetWidth < MOBILE_WIDTH);\n}\n\n\n// Add internal controls\ndelegate('.frames .workspace-back', 'click', (e) => {\n\tvar frame = parents(e.target, '.frame');\n\tif (frame) {\n\t\tprev = frame.previousElementSibling;\n\t\tif (prev) {\n\t\t\temit(prev, 'active');\n\t\t}\n\t}\n});\n\n\n// Add Gestures\n// To swipe between frames\non(window, 'resize', () => {\n\n\t// Get the number of frames in the frameset\n\teach(\".frameset\", (frameset) => {\n\n\t\tlet frames = frameset.querySelectorAll(\".frame\");\n\n\t\tlet frameWidth = '';\n\t\tlet setWidth = '';\n\n\t\tif (!mobile()) {\n\t\t\t// reset frame\n\t\t\ttransform(frameset, 'translateX', '');\n\t\t}\n\t\telse {\n\t\t\tframeWidth = frameset.parentNode.offsetWidth;\n\t\t\tsetWidth = frames.length * frameWidth;\n\n\t\t\tsetWidth += 'px';\n\t\t\tframeWidth += 'px';\n\t\t}\n\n\t\tcss(frameset, {\n\t\t\twidth: setWidth\n\t\t});\n\n\t\tcss(frames, {\n\t\t\twidth: frameWidth\n\t\t});\n\n\t\t// Re-assert the active frame\n\t\tlet selected = query(\".frame.active\", frameset);\n\n\t\t// Activate frame to clean it up.\n\t\temit(selected, 'active');\n\t});\n});\n\n\nready(() => {\n\ton(document.body, 'keydown', (e) => {\n\t\tvar el;\n\t\tswitch (e.which) {\n\t\t\tcase 37:\n\t\t\t\tel = query(\".frameset .frame.active\").previousElementSibling;\n\t\t\tbreak;\n\t\t\tcase 39:\n\t\t\t\tel = query(\".frameset .frame.active\").nextElementSibling;\n\t\t\tbreak;\n\t\t}\n\t\tif (el) {\n\t\t\temit(el, 'active');\n\t\t}\n\t});\n});\n\n\nexport default function (match) {\n\t// Find and initiate all framesets\n\teach(match, initFrameset);\n}\n\n\nfunction initFrameset(frameset) {\n\n\t// Add class\n\taddClass(frameset, 'frameset');\n\n\t// Get the children as frames\n\tlet frames = frameset.children;\n\n\t// Define children as \".frame\"\n\taddClass(frames, 'frame');\n\n\t// Add \"active\" status to the first one, or who bares the className 'frame-main'\n\tvar active_frame = find(frames, '.active');\n\n\tif (!active_frame) {\n\n\t\t// Find the main frame to mark\n\t\t// Default to the initial frame\n\t\tactive_frame = find(frames, \".frame-main\") || frames[0];\n\n\t\taddClass(active_frame, 'active');\n\t}\n\n\n\teach(frames, (frame) => {\n\t\ton(frame, 'active', () => showFrame(frame));\n\t});\n\n\n\t// Only for non-touch devices do we need the drag controls\n\t// Add control to a subset of the frames\n\tlet frames_controls = flex ? filter(frames, \":not(.flex)\") : frames;\n\n\teach(frames_controls, createFrameControls);\n\n\n\t//\n\t// FillFrame\n\t//\n\ton(frameset, 'fillframe', () => {\n\n\t\t// Is the frame\n\t\tif (mobile()) {\n\t\t\treturn;\n\t\t}\n\n\t\t// for all the nested frames within this\n\t\t// we are going to reorganise the widths\n\t\tvar diff = cssCalc(frameset).width;\n\n\t\tlet fill_frames = filter(frames, ':not(.pinned)');\n\n\t\teach(fill_frames, (frame) => {\n\n\t\t\t// How wide is this element?\n\t\t\tvar w = cssCalc(frame).width;\n\t\t\tdiff -= w;\n\n\t\t\t// fix bug in IE, FF when resize, lets fix the widths, to prevent it overriding its container\n\t\t\tsetFrameWidth(frame, w);\n\n\t\t});\n\n\t\teach(fill_frames, (frame) => {\n\n\t\t\tif (diff === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar style = cssCalc(frame);\n\n\t\t\tvar min = parseInt(style.minWidth,10) || 0,\n\t\t\t\tmax = parseInt(style.maxWidth,10) || 0,\n\t\t\t\twid = frame.offsetWidth;\n\n\t\t\t//console.log(diff,wid,min,max);\n\n\t\t\tif ((wid + diff) < min) {\n\t\t\t\t//console.log(diff,wid,'min');\n\t\t\t\tdiff += (wid - min);\n\t\t\t\twid = min;\n\t\t\t}\n\t\t\telse if ((wid + diff) > max && max > 0) {\n\t\t\t\t//console.log(diff,wid,'max');\n\t\t\t\tdiff -= (wid - max);\n\t\t\t\twid = max;\n\t\t\t}\n\t\t\telse {\n\t\t\t\twid += diff;\n\t\t\t\tdiff = 0;\n\t\t\t}\n\n\t\t\tsetFrameWidth(frame, wid);\n\t\t});\n\t});\n\n\n\t// Add Swipe'y touch events\n\tswipe(frameset.parentNode, (e) => {\n\n\t\tif (!mobile()) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar a = find(frames, '.active');\n\t\tvar W = frameset.parentNode.offsetWidth;\n\t\tvar n = frames.length;\n\n\t\tvar i = index(a);\n\t\tvar b = a;\n\n\t\tswitch(e.gesture.type) {\n\t\t\tcase \"dragleft\":\n\t\t\tcase \"dragright\":\n\n\t\t\t\t// Cancel defaults\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\n\t\t\t\t// What is the current frame offset (fo)\n\t\t\t\tvar fo = -((100 / n) * i);\n\t\t\t\t// What is the delta change in X as a percentage of the whole length,\n\t\t\t\tvar dx = ((100 / W) * e.gesture.deltaX) / n;\n\n\t\t\t\t// slow down at the first and last pane\n\t\t\t\tif((i === 0 && e.gesture.direction === 'right') || (i === (n-1) && e.gesture.direction === 'left')) {\n\t\t\t\t\tdx *= 0.3;\n\t\t\t\t}\n\n\t\t\t\ttransform(frameset, 'translateX', (fo + dx) + \"%\");\n\n\t\t\t\tcss(frameset, {\n\t\t\t\t\t\"WebkitTransition\":\"-webkit-transform 0s\",\n\t\t\t\t\t\"mozTransition\":\"-moz-transform 0s\",\n\t\t\t\t\t\"transition\":\"transform 0s\"\n\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\tcase \"swipeleft\":\n\t\t\t\tb = a.nextElementSibling;\n\t\t\tbreak;\n\n\t\t\tcase \"swiperight\":\n\t\t\t\tb = a.previousElementSibling;\n\t\t\tbreak;\n\n\t\t\tcase \"release\":\n\n\t\t\t\tif (Math.abs(e.gesture.deltaX) > (W / 2)) {\n\t\t\t\t\tif(e.gesture.direction === 'right'){\n\t\t\t\t\t\tb = a.previousElementSibling;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tb = a.nextElementSibling;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\tbreak;\n\t\t}\n\n\t\tcss(frameset, {\n\t\t\t\"WebkitTransition\": \"\",\n\t\t\t\"mozTransition\": \"\",\n\t\t\t\"transition\": \"\"\n\t\t});\n\n\t\tif (!b) {\n\t\t\tb = a;\n\t\t}\n\n\t\temit(b, 'active');\n\n\t\treturn true;\n\t});\n\n\t// resize\n\tif (!supportsTouch) {\n\t\ton(window, 'resize', () => {\n\t\t\temit(frameset, 'fillframe');\n\t\t});\n\t\temit(frameset, 'fillframe');\n\t}\n\treturn frameset;\n}\n\n//\n// showFrame\n// If a frame comes into focus, either by being:\n// unppined or selected (frame-nav), or screen swipe bring its into focus\nfunction showFrame(frame, toggle = false) {\n\n\t// lets create the offset\n\tvar frameset = frame.parentNode;\n\tvar frames = frameset.children;\n\tvar i = index(frame);\n\tvar links = each('.frame-nav a');\n\tvar link = links[i];\n\n\tif (link) {\n\t\t// Select class removes this class from all other siblings and marks this item as selected\n\t\ttoggleClass(links, 'active', (el) => el === link);\n\t}\n\n\ttoggleClass(frames, 'active', (el) => el === frame);\n\n\n\tif (mobile()) {\n\t\tvar x = \"-\" + ((i / frames.length) * 100) + \"%\";\n\t\ttransform(frameset, \"translateX\", x);\n\t}\n\telse if (toggle) {\n\t\ttoggleClass([frame, link], 'pinned');\n\t}\n\telse {\n\t\tremoveClass([frame, link], 'pinned');\n\t}\n\temit(frameset, 'fillframe');\n}\n\n\nfunction createFrameControls(frame) {\n\n\t// Create resize buttons\n\tvar btn = createElement('button', {className: 'resize'});\n\tframe.appendChild(btn);\n\n\t// Add touch event\n\ttouch(btn, (e, o) => {\n\n\t\tif(!o){\n\t\t\treturn false;\n\t\t}\n\t\tvar diff = (e.screenX - o.screenX);\n\n\t\t// If item is at its minimum?\n\t\tif(diff === 0){\n\t\t\t// nothing to do\n\t\t\treturn;\n\t\t}\n\n\t\tvar frm = frame,\n\t\t\tprev = frame,\n\t\t\tstyle,\n\t\t\twidth;\n\n\t\t// if the resize is on the left side\n\t\t// swap the $prev with the actual prev element\n\t\tif (cssCalc(btn).left === \"0px\") {\n\t\t\tprev = frm = prev.previousElementSibling;\n\t\t}\n\n\t\tdo {\n\t\t\twidth = prev.offsetWidth + diff;\n\n\t\t\tstyle = cssCalc(prev);\n\n\t\t\tif( width > parseInt(style.maxWidth, 10)) {\n\t\t\t\t//console.log('Too big');\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\telse if( width < parseInt(style.minWidth, 10)) {\n\t\t\t\t//console.log('Too small');\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tpassed = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\twhile ((prev = prev.previousElementSibling) && prev);\n\n\t\tif (!prev) {\n\t\t\t//console.log('Cannot shift left item any further');\n\t\t\treturn;\n\t\t}\n\n\t\tvar next = frm,\n\t\t\tnwidth,\n\t\t\tpassed = false;\n\n\t\twhile (next.nextElementSibling) {\n\n\t\t\tnext = next.nextElementSibling;\n\t\t\tnwidth = next.offsetWidth - diff;\n\n\t\t\tstyle = cssCalc(next);\n\n\t\t\tif (nwidth > parseInt(style.maxWidth, 10)) {\n\t\t\t\t//console.log('Too big for next');\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\telse if (nwidth < parseInt(style.minWidth,10)) {\n\t\t\t\t//console.log('Too small for next');\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpassed = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (!passed) {\n\t\t\t//console.log('Cannot move right items any further');\n\t\t\treturn;\n\t\t}\n\n\t\t// Change size\n\t\tsetFrameWidth(prev, width);\n\n\t\t// This neighbour\n\t\tsetFrameWidth(next, nwidth);\n\t});\n}\n\nfunction setFrameWidth(frame, width) {\n\tframe = flex ? filter(frame, \":not(.flex)\") : frame;\n\tcss(frame, {width: width +\"px\"});\n}\n\n\n\n// legacy support old jQuery way\n{\n\tif (typeof(jQuery) !== 'undefined') {\n\t\tjQuery.fn.showFrame = function() {\n\t\t\temit(this, 'active');\n\t\t};\n\t}\n}\n","// Events\nimport emit from './utils/events/emit';\nimport on from './utils/events/on';\n\n// DOM\nimport css from './utils/dom/css';\nimport documentElement from './utils/dom/documentElement';\nimport createElement from './utils/dom/createElement';\nimport parents from './utils/dom/parents';\nimport toggleClass from './utils/dom/toggleClass';\nimport removeClass from './utils/dom/removeClass';\nimport hasClass from './utils/dom/hasClass';\nimport attr from './utils/dom/attr';\nimport index from './utils/dom/index';\nimport each from './utils/dom/each';\n\n// Navigation\nexport default function sidemenu(query) {\n\n\t// Find the element\n\teach(query, (nav) => {\n\n\t\t// Does there exist a navigation\n\t\tlet toggle = createElement('button', {\n\t\t\tinnerText: 'Close',\n\t\t\tclassName: 'toggle-frame-nav'\n\t\t});\n\n\t\tnav.appendChild(toggle);\n\n\t\ton('.toggle-frame-nav', 'click', (e) => {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\ttoggleClass(documentElement, \"show-frame-nav\");\n\t\t});\n\n\t\t// Populate the Nav with frame links\n\t\teach('.frameset .frame', (frame) => {\n\t\t\tlet name = frame.getAttribute('data-framename') || frame.title;\n\t\t\tlet link = createElement('a', {innerText: name});\n\t\t\tattr(link, {\n\t\t\t\t\"data-frmindex\" : index(frame)\n\t\t\t});\n\t\t\tnav.appendChild(link);\n\n\t\t\ton(link, 'click', () => {\n\t\t\t\temit(frame, 'active');\n\t\t\t});\n\n\t\t\ton(frame, 'pinned', (e) => {\n\t\t\t\ttoggleClass(link, 'pinned');\n\t\t\t});\n\t\t});\n\n\t\t// Add click event to body\n\t\t// to get out of the menu\n\t\ton(document.body, \"click\", (e) => {\n\t\t\tif (hasClass(documentElement, 'show-frame-nav') && !parents(e.target, \".frame-nav\").length) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tremoveClass(documentElement, 'show-frame-nav');\n\t\t\t}\n\t\t});\n\n\t\tdocument.body.appendChild(nav);\n\t});\n}\n","// addClass\nimport each from './each';\nimport hasClass from './hasClass';\n\nexport default function(elements, className) {\n\treturn each(elements, (el) => {\n\t\tif (!hasClass(el, className)) {\n\t\t\tel.className += \" \" + className;\n\t\t}\n\t});\n}\n","import each from './each';\n\nexport default function(elements, props) {\n\treturn each(elements, (element) => {\n\t\tfor (let x in props) {\n\t\t\telement.setAttribute(x, props[x]);\n\t\t}\n\t});\n}\n","\nimport extend from '../object/extend';\n\nexport default function (tagName, prop) {\n\tlet elm = document.createElement(tagName);\n\textend(elm, prop);\n\treturn elm;\n}\n","// css - apply properties to an element\nimport each from './each';\n\nexport default function css(elements, props) {\n\treturn each(elements, (el) => {\n\t\tfor (let key in props) {\n\t\t\tel.style[key] = props[key];\n\t\t}\n\t});\n}\n","// cssCalc\nimport each from './each';\n\nexport default function (elements) {\n\tlet elm = each(elements)[0];\n\treturn window.getComputedStyle(elm);\n}\n","export default document.documentElement;\n","export default function each(matches, callback = function(){}) {\n\n\tif (matches instanceof Element || matches instanceof HTMLDocument || matches instanceof Window) {\n\t\tcallback(matches);\n\t\treturn [matches];\n\t}\n\n\tif (typeof(matches) === 'string') {\n\t\tmatches = document.querySelectorAll(matches);\n\t}\n\n\tif (callback) {\n\n\t\tfor (let i = 0; i < matches.length; i++) {\n\t\t\tcallback.call(matches[i], matches[i], i );\n\t\t}\n\t}\n\n\treturn matches || [];\n}\n","import each from './each';\nimport matches from './matches';\n\nexport default function(elements, match) {\n\tlet a = [];\n\n\teach(elements, (el) => {\n\t\tif (matches(el, match)) {\n\t\t\ta.push(el);\n\t\t}\n\t});\n\n\treturn a;\n}\n","import until from './until';\nimport matches from './matches';\n\nexport default function(elements, match) {\n\treturn until(elements, (el) => {\n\t\tif (matches(el, match)) {\n\t\t\treturn el;\n\t\t}\n\t});\n}\n","import until from './until';\n\nexport default function(elements, className) {\n\tvar reg = new RegExp(\"(^|\\\\s)\"+className+\"($|\\\\s)\", 'i');\n\treturn until(elements, (el) => {\n\t\treturn el.className && el.className.match(reg);\n\t});\n}\n","export default function(elem) {\n\treturn Array.prototype.indexOf.call(elem.parentNode.children, elem);\n}\n","import until from './until';\n\nexport default function(elements, query) {\n\n\tlet handler = query;\n\n\tif (typeof query === 'string') {\n\t\thandler = (el) => {\n\t\t\tlet func = (el.matches || el.mozMatchesSelector || el.webkitMatchesSelector || el.msMatchesSelector || el.oMatchesSelector);\n\t\t\treturn func.call(el, query);\n\t\t};\n\t}\n\n\treturn until(elements, handler);\n}\n","// Find parents of an element which match a pattern\n\nimport each from './each';\nimport matches from './matches';\nimport documentElement from './documentElement';\n\nexport default function(elements, match) {\n\tvar m = [];\n\teach(elements, (el) => {\n\t\twhile(el && el.parentNode) {\n\t\t\tel = el.parentNode;\n\n\t\t\tif (el === document) {\n\t\t\t\tel = documentElement;\n\t\t\t}\n\n\t\t\tif (matches(el, match)) {\n\t\t\t\tm.push(el);\n\t\t\t}\n\n\t\t\tif (el === documentElement) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t});\n\treturn m;\n}\n","// Select a single element\nexport default function(query, parent = document) {\n\treturn parent.querySelector(query);\n}\n","// removeClass\nimport each from './each';\n\nexport default function(elements, className) {\n\tvar reg = new RegExp(\"(^|\\\\s)\"+className+\"($|\\\\s)\", 'ig');\n\treturn each(elements, (el) => {\n\t\tel.className = el.className.replace(reg, ' ');\n\t});\n}\n","import each from './each';\nimport addClass from './addClass';\nimport removeClass from './removeClass';\nimport hasClass from './hasClass';\n\nexport default function(elements, className, condition) {\n\n\tif (typeof(condition) !== 'function') {\n\t\tcondition = function(el) {\n\t\t\treturn !hasClass(el, className);\n\t\t};\n\t}\n\n\treturn each(elements, (el) => {\n\t\tif (condition(el)) {\n\t\t\taddClass(el, className);\n\t\t}\n\t\telse {\n\t\t\tremoveClass(el, className);\n\t\t}\n\t});\n}\n","// transform\n// Assign CSS transform operation\nimport css from './css';\nimport supportsTransform3d from '../support/transform3d';\n\nexport default function transform(element, prop, value) {\n\tvar x = prop + \"(\" + value + \")\";\n\tif (supportsTransform3d && prop === \"translateX\") {\n\t\tx = \"translate3d(0,0,0) translate(\"+(value||'0')+\",0)\";\n\t}\n\tvar o = {\n\t\ttransform: x,\n\t\tmsTransform: x,\n\t\tMozTransform: x,\n\t\tWebkitTransform: x\n\t};\n\treturn css(element, o);\n}\n","import each from './each';\n\nexport default function(elements, callback) {\n\tvar bool;\n\n\teach(elements, (el) => {\n\t\tif (!bool) {\n\t\t\tbool = callback(el);\n\t\t}\n\t});\n\n\treturn bool;\n}\n","import on from './on';\nimport matches from '../dom/matches';\n\nexport default function delegate(match, eventName, handler, root = document) {\n\treturn on(root, eventName, (e) => {\n\t\tif (matches(e.target, match)) {\n\t\t\thandler(e);\n\t\t}\n\t});\n}\n","// on.js\n// Listen to events, this is a wrapper for addEventListener\n\nimport each from '../dom/each';\n\n// IE does not support `new Event()`\n// See https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events for details\n\nlet createEvent = (eventname) => {return new Event(eventname);};\ntry{\n\tcreateEvent(\"test\");\n}\ncatch(e) {\n\tcreateEvent = (eventname) => {\n\t\tlet e = document.createEvent('Event');\n\t\te.initEvent(eventname, true, true);\n\t\treturn e;\n\t};\n}\n\n// Return\nexport default function emit(elements, eventname) {\n\treturn each(elements, (el) => {\n\t\tel.dispatchEvent(createEvent(eventname));\n\t});\n}\n","// on.js\n// Listen to events, this is a wrapper for addEventListener\n\nimport each from '../dom/each';\n\nexport default function on(elements, eventnames, callback, useCapture = false) {\n\teventnames = eventnames.split(/\\s+/);\n\treturn each(elements, (el) => {\n\t\teventnames.forEach((eventname) => el.addEventListener(eventname, callback, useCapture) )\n\t});\n};\n","import on from './on';\n\nexport default function ready(callback) {\n\tif (document.readyState !== \"loading\" && document.body) {\n\t\tcallback();\n\t}\n\telse {\n\t\ton(document, 'DOMContentLoaded', callback);\n\t}\n}\n","// swipe\n// Checks for a swipe to the left or to the right\n\nimport touch, {gesture} from './touch';\n\nexport default function swipe(elements, callback) {\n\n\treturn touch(elements, function(e, o, s) {\n\n\t\tgesture(e,s);\n\n\t\te.gesture.type = \"drag\" + e.gesture.direction;\n\n\t\tcallback.call(this, e);\n\n\t}, function(e){\n\n\t}, function(e, s) {\n\t\t// How long did this operation take?\n\t\tif (e.gesture.deltaTime < 200 && e.gesture.distance > 20 && e.gesture.velocity > 0.3) {\n\t\t\te.gesture.type = \"swipe\" + e.gesture.direction;\n\t\t}\n\t\telse {\n\t\t\te.gesture.type = \"release\";\n\t\t}\n\n\n\t\tcallback.call(this, e);\n\t});\n};\n","// Standardizes touch events\n// Calculate the difference from the starting position and the end position.\n// Returns a gesture object given\n\nimport on from './on';\nimport each from '../dom/each';\n\n// Does this support pointer events?\nconst pointerEnabled = window.navigator.pointerEnabled;\nconst eventMoveTypes = pointerEnabled ? 'MSPointerMove pointerMove' : 'mousemove touchmove';\nconst eventStartTypes = pointerEnabled ? 'MSPointerDown pointerDown' : 'mousedown touchstart';\nconst eventEndTypes = pointerEnabled ? 'MSPointerUp pointerUp' : 'mouseup touchend touchcancel';\n\n// Touch\n// @param callback function - Every touch event fired\n// @param complete function- Once all touch event ends\nexport default function touch(elements, onmove, onstart, onend) {\n\n\t// Store callbacks, and previous pointer position\n\tvar cb = {}, mv = {}, fin = {};\n\n\ton(document, eventMoveTypes, (moveEvent) => {\n\n\t\t// Fix Android not firing multiple moves\n\t\t// if (e.type.match(/touch/i)) {\n\t\t// // e.preventDefault();\n\t\t// }\n\n\t\t// Pointer/Mouse down?\n\t\tif (voidEvent(moveEvent)) {\n\t\t\t// The mouse buttons isn't pressed, kill this\n\t\t\treturn;\n\t\t}\n\n\t\t// trigger the call\n\t\tvar i = moveEvent.pointerId || 0;\n\t\tvar handler = cb[i];\n\n\t\tif (handler && typeof(handler) === 'function') {\n\n\t\t\tvar prevEvent = mv[i];\n\n\t\t\t// Extend the Event Object with 'gestures'\n\t\t\tgesture(moveEvent, prevEvent);\n\n\t\t\t// Trigger callback\n\t\t\thandler(moveEvent, prevEvent);\n\t\t}\n\n\t\tmv[i] = moveEvent;\n\t});\n\n\ton(document, eventEndTypes, (e) => {\n\n\t\tvar i = e.pointerId || 0;\n\t\tcb[i] = null;\n\n\t\tif (e.type === \"touchend\" || e.type === \"touchcancel\") {\n\t\t\te = mv[i];\n\t\t}\n\n\t\tlet handler = fin[i];\n\t\tif (handler) {\n\t\t\thandler(e);\n\t\t}\n\n\t\tfin[i] = null;\n\t});\n\n\t// loop through and add events\n\teach(elements, (element) => {\n\n\t\t// bind events\n\t\t// on(element, 'touchend', (e) => {\n\t\t// \tconsole.log(\"el:touchend\");\n\t\t// \tconsole.log(e);\n\t\t// });\n\n\t\ton(element, \"selectstart\", (e) => {return false;} );\n\n\t\ton(element, eventStartTypes, (startEvent) => {\n\n\t\t\t// default pointer ID\n\t\t\tvar i = startEvent.pointerId || 0;\n\n\t\t\t// If touch, choose the first element.\n\t\t\t// For multiple we may need to pass in a flag to this function\n\t\t\tif (startEvent.touches && startEvent.touches.length) {\n\t\t\t\tvar ts = startEvent.timeStamp;\n\t\t\t\tstartEvent = startEvent.touches[0];\n\t\t\t\tstartEvent.timeStamp = ts;\n\t\t\t}\n\n\t\t\t// Add Gestures to event Object\n\t\t\tgesture(startEvent);\n\n\t\t\tmv[i] = startEvent;\n\t\t\tcb[i] = (moveEvent, prevMoveEvent) => {\n\t\t\t\tonmove.call(element, moveEvent, prevMoveEvent, startEvent);\n\t\t\t};\n\n\t\t\tif (onend) {\n\t\t\t\tfin[i] = (endEvent) => {\n\n\t\t\t\t\t// Add Gestures to event Object\n\t\t\t\t\tgesture(endEvent, startEvent);\n\n\t\t\t\t\t// fire complete callback\n\t\t\t\t\tonend.call(element, endEvent, startEvent);\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// trigger start\n\t\t\tif (onstart) {\n\t\t\t\tonstart.call(element, startEvent);\n\t\t\t}\n\t\t});\n\t});\n}\n\nexport function gesture(currEvent, prevEvent) {\n\n\t// Response Object\n\tcurrEvent.gesture = {};\n\n\tif (currEvent && currEvent.touches && currEvent.touches.length > 0) {\n\t\tcurrEvent.gesture.touches = currEvent.touches;\n\t}\n\telse {\n\t\tcurrEvent.gesture.touches = [currEvent];\n\t}\n\n\tcurrEvent.gesture.screenX = currEvent.gesture.touches[0].screenX;\n\tcurrEvent.gesture.screenY = currEvent.gesture.touches[0].screenY;\n\n\tif (!currEvent.screenX) {\n\t\tcurrEvent.screenX = currEvent.gesture.screenX;\n\t}\n\tif (!currEvent.screenY) {\n\t\tcurrEvent.screenY = currEvent.gesture.screenY;\n\t}\n\n\t// If the second parameter isn't defined then we're unable to define getures\n\t// But if it is then whoop, lets go.\n\tif (prevEvent) {\n\n\t\tcurrEvent.gesture.deltaTime = (currEvent.timeStamp - prevEvent.timeStamp);\n\n\t\tvar dx = currEvent.gesture.deltaX = currEvent.gesture.screenX - prevEvent.gesture.screenX;\n\t\tvar dy = currEvent.gesture.deltaY = currEvent.gesture.screenY - prevEvent.gesture.screenY;\n\n\t\t// Which is the best direction for the gesture?\n\t\tif (Math.abs(dy) > Math.abs(dx)) {\n\t\t\tcurrEvent.gesture.direction = (dy > 0 ? 'up' : 'down');\n\t\t}\n\t\telse {\n\t\t\tcurrEvent.gesture.direction = (dx > 0 ? 'right' : 'left');\n\t\t}\n\n\t\t// Distance\n\t\tcurrEvent.gesture.distance = Math.sqrt((dx * dx) + (dy * dy));\n\n\t\t// Velocity\n\t\tcurrEvent.gesture.velocity = currEvent.gesture.distance / currEvent.gesture.deltaTime;\n\t}\n}\n\n\nfunction voidEvent(event) {\n\tvar type = event.pointerType || event.type;\n\treturn (type.match(/mouse/i) && (event.which || event.buttons) !== 1);\n}\n","// data-src\n// Loads images on demand\n// By adding data-src to images and binding dataSrc to a ancestor\n// The data-src attribute is read and defines a path to the image\n// load an image once the image fits a visible area. or if the image exists\n\nimport each from '../dom/each';\nimport css from '../dom/css';\nimport on from '../events/on';\n\n\nvar images = [];\nexport default function (elements){\n\n\t// Find all the elements in the page with data-src className\n\t// Bind listeners to the page to determine whether this content is changing.\n\n\treturn each(elements, function(el) {\n\n\t\t// Listen to the scroll event on this item\n\t\ton(el, 'scroll', () => check(el));\n\n\t\t// Check\n\t\tcheck(el);\n\t});\n};\n\n\nfunction check(el) {\n\n\t// Retrieve the relative position of this item to the page\n\tvar h = el.offsetHeight,\n\t\tt = el.scrollTop;\n\n\t// [data-src]\n\tlet a = Array.prototype.slice.call(el.querySelectorAll('img[data-src]'));\n\n\t// Is it shown?\n\ta = a.filter((img) => {\n\t\t// Where is this positioned?\n\t\tvar _t = img.offsetTop,\n\t\t\t_h = img.offsetHeight;\n\n\t\t// does it fix in the bounding box?\n\t\treturn ( ( _t + _h ) >= t && _t <= ( t + h ) );\n\t});\n\n\t//\n\ta.forEach((img) => {\n\n\t\t// SRC\n\t\timg.src = img.getAttribute('data-src');\n\t\timg.removeAttribute('data-src');\n\n\t\t// Error fallback\n\t\tlet errorSrc = img.getAttribute('data-src-error');\n\n\t\tif (errorSrc) {\n\t\t\timg.onerror = () => {\n\t\t\t\timg.src = errorSrc;\n\t\t\t};\n\t\t}\n\n\t\t// Have we already loaded this image into the browser?\n\t\tif (images.indexOf(img.src) > -1) {\n\t\t\tshow(img);\n\t\t}\n\t\telse {\n\t\t\timg.onload = () => {\n\t\t\t\tshow(img);\n\t\t\t\timages.push(img.src);\n\t\t\t};\n\t\t}\n\t});\n}\n\nfunction show(el) {\n\tcss(el, {opacity:1});\n}\n","// Extend an object\nexport default function(r, o) {\n\tfor (let x in o) {\n\t\tr[x] = o[x];\n\t}\n\treturn r;\n}\n","// Add browser ability to the window HTML.classList\nexport default function (property, enabled) {\n\tdocument.documentElement.className = document.documentElement.className + ' ' + (enabled?\"\":\"no-\") + property;\n};","// Browser Sniffing\n\nimport addClass from '../dom/addClass';\n\nlet map = {\n\tseamonkey: [/Seamonkey\\/\\d+/],\n\tfirefox: [/Firefox\\/\\d+/, /Seamonkey\\/\\d+/],\n\tchrome: [/Chrome\\/\\d/, /Chromium\\/\\d+/],\n\tchromium: [/Chromium\\/\\d+/],\n\tsafari: [/Safari\\/\\d+/, /Chrom(e|ium)\\/\\d+/],\n\topera: [/O(PR|pera)\\/\\d+/],\n\tie: [/(;MSIE\\s|Trident\\/)\\d+/]\n};\n\nlet ua = window.navigator.userAgent;\n\nlet test = (a) => {\n\tlet [match, ignore] = a;\n\treturn match.test(ua) && !(ignore && ignore.test(ua));\n};\n\nlet name;\nfor (let x in map) {\n\tif (test(map[x])) {\n\t\tname = x;\n\t\tbreak;\n\t}\n}\n\nif (name) {\n\taddClass(document.documentElement, name);\n}\n","// Supports Flex\nimport prefix from './prefix';\nimport CSSSupports from './CSSSupports';\n\nconst result = prefix(\"FlexWrap\");\n\nCSSSupports('flex', result);\n\nexport default result;\n","// Prop\nimport prefix from './prefix';\nimport CSSSupports from './CSSSupports';\n\nconst result = prefix(\"BoxDirection\");\n\nCSSSupports('legacyflex', result);\n\nexport default result;\n","// Test properties with prefix\n\nexport default function prefix(prop) {\n\n\tvar s = (document.createElement('div')).style;\n\n\treturn s[prop] !== undefined ||\n\t\t\ts[\"Moz\"+prop] !== undefined ||\n\t\t\ts[\"Webkit\"+prop] !== undefined ||\n\t\t\ts[\"ms\"+prop] !== undefined ||\n\t\t\ts[prop.replace(/^./, function(m) {\n\t\t\t\treturn m.toUpperCase();\n\t\t\t})] !== undefined;\n}\n","import CSSSupports from './CSSSupports';\n\nconst result = (\"ontouchstart\" in window);\n\nCSSSupports('touch', result);\n\nexport default result;\n","// Prop\nimport prefix from './prefix';\nimport CSSSupports from './CSSSupports';\n\nconst result = prefix(\"transform\");\n\nCSSSupports('transform', result);\n\nexport default result;\n","// Prop\nimport prefix from './prefix';\nimport CSSSupports from './CSSSupports';\n\nconst result = prefix(\"perspective\");\nCSSSupports('transform3d', result);\n\nexport default result;\n","// Supports...\nimport './utils/support/flex';\nimport './utils/support/legacyflex';\nimport './utils/support/transform';\nimport './utils/support/touch';\nimport './utils/support/browser';\n\n// Events\nimport emit from './utils/events/emit';\nimport ready from './utils/events/ready';\n\n// Helpers\nimport dataSrc from './utils/helper/dataSrc';\nimport sidemenu from './sidemenu';\nimport frameset from './frameset';\n\nready(() => {\n\n\t// Find elements denoted as framesets...\n\t// Append attributes to their chiidren;\n\tframeset('.frameset');\n\n\t// Containers with images can be loaded on demand\n\t// The container must simply have the className = \"data-src\"\n\t// A change in scroll position or visibility triggers the check\n\tdataSrc('.data-src');\n\n\t// Show frames\n\t// Add events to buttons which can expose the names of the frames.\n\t// This is good for mobile.\n\tsidemenu('.frame-nav');\n\n\t// Trigger resize\n\temit(window, 'resize');\n});\n"],"sourceRoot":"/source/"}