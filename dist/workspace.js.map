{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","workspace.js","src/frameset.js","src/sidemenu.js","src/utils/dom/addClass.js","src/utils/dom/attr.js","src/utils/dom/createElement.js","src/utils/dom/css.js","src/utils/dom/cssCalc.js","src/utils/dom/documentElement.js","src/utils/dom/each.js","src/utils/dom/filter.js","src/utils/dom/find.js","src/utils/dom/hasClass.js","src/utils/dom/index.js","src/utils/dom/matches.js","src/utils/dom/parents.js","src/utils/dom/query.js","src/utils/dom/removeClass.js","src/utils/dom/toggleClass.js","src/utils/dom/transform.js","src/utils/dom/until.js","src/utils/events/delegate.js","src/utils/events/emit.js","src/utils/events/on.js","src/utils/events/ready.js","src/utils/events/swipe.js","src/utils/events/touch.js","src/utils/helper/dataSrc.js","src/utils/object/extend.js","src/utils/support/CSSSupports.js","src/utils/support/browser.js","src/utils/support/flex.js","src/utils/support/legacyflex.js","src/utils/support/prefix.js","src/utils/support/touch.js","src/utils/support/transform.js","src/utils/support/transform3d.js","src/workspace.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_interopRequireDefault","obj","__esModule","default","mobile","_utilsDomDocumentElement2","offsetWidth","MOBILE_WIDTH","initFrameset","frameset","_utilsDomAddClass2","frames","children","active_frame","_utilsDomFind2","_utilsDomEach2","frame","_utilsEventsOn2","showFrame","frames_controls","_utilsSupportFlex2","_utilsDomFilter2","createFrameControls","diff","_utilsDomCssCalc2","width","fill_frames","w","setFrameWidth","style","min","parseInt","minWidth","max","maxWidth","wid","_utilsEventsSwipe2","parentNode","W","_utilsDomIndex2","b","gesture","type","preventDefault","stopPropagation","fo","dx","deltaX","direction","_utilsDomTransform2","_utilsDomCss2","WebkitTransition","mozTransition","transition","nextElementSibling","previousElementSibling","Math","abs","_utilsEventsEmit2","_utilsSupportTouch2","window","toggle","arguments","undefined","links","link","_utilsDomToggleClass2","el","x","_utilsDomRemoveClass2","btn","_utilsDomCreateElement2","className","appendChild","_utilsEventsTouch2","screenX","frm","prev","left","passed","nwidth","next","Object","defineProperty","value","_utilsSupportFlex","_utilsSupportTouch","_utilsEventsEmit","_utilsEventsOn","_utilsEventsDelegate","_utilsEventsDelegate2","_utilsEventsReady","_utilsEventsReady2","_utilsEventsSwipe","_utilsEventsTouch","_utilsDomTransform","_utilsDomDocumentElement","_utilsDomCreateElement","_utilsDomParents","_utilsDomParents2","_utilsDomAttr","_utilsDomIndex","_utilsDomEach","_utilsDomQuery","_utilsDomQuery2","_utilsDomFilter","_utilsDomFind","_utilsDomCss","_utilsDomCssCalc","_utilsDomAddClass","_utilsDomToggleClass","_utilsDomRemoveClass","_utilsDomHasClass","target","querySelectorAll","frameWidth","setWidth","selected","document","body","which","match","jQuery","fn","this","trigger","./utils/dom/addClass","./utils/dom/attr","./utils/dom/createElement","./utils/dom/css","./utils/dom/cssCalc","./utils/dom/documentElement","./utils/dom/each","./utils/dom/filter","./utils/dom/find","./utils/dom/hasClass","./utils/dom/index","./utils/dom/parents","./utils/dom/query","./utils/dom/removeClass","./utils/dom/toggleClass","./utils/dom/transform","./utils/events/delegate","./utils/events/emit","./utils/events/on","./utils/events/ready","./utils/events/swipe","./utils/events/touch","./utils/support/flex","./utils/support/legacyflex","./utils/support/touch","./utils/support/transform",2,"sidemenu","query","nav","innerText","name","getAttribute","title","_utilsDomAttr2","data-frmindex","_utilsDomHasClass2",3,"_each","_each2","_hasClass","_hasClass2","elements","./each","./hasClass",4,"props","element","setAttribute",5,"_objectExtend","_objectExtend2","tagName","prop","elm","createElement","../object/extend",6,"css","key",7,"getComputedStyle",8,"documentElement",9,"each","matches","callback","Element","HTMLDocument","Window",10,"_matches","_matches2","push","./matches",11,"_until","_until2","./until",12,"reg","RegExp",13,"elem","Array","prototype","indexOf",14,"handler","func","mozMatchesSelector","webkitMatchesSelector","msMatchesSelector","oMatchesSelector",15,"_documentElement","_documentElement2","m","./documentElement",16,"parent","querySelector",17,"replace",18,"_addClass","_addClass2","_removeClass","_removeClass2","condition","./addClass","./removeClass",19,"transform","_supportTransform3d2","msTransform","MozTransform","WebkitTransform","_css2","_css","_supportTransform3d","../support/transform3d","./css",20,"bool",21,"delegate","eventName","root","_on2","_domMatches2","_on","_domMatches","../dom/matches","./on",22,"emit","eventname","_domEach2","dispatchEvent","createEvent","_domEach","Event","initEvent","../dom/each",23,"on","eventnames","useCapture","split","forEach","addEventListener",24,"ready","readyState",25,"swipe","_touch2","_touch","deltaTime","distance","velocity","./touch",26,"touch","onmove","onstart","onend","cb","mv","fin","eventMoveTypes","moveEvent","voidEvent","pointerId","prevEvent","eventEndTypes","eventStartTypes","startEvent","touches","ts","timeStamp","prevMoveEvent","endEvent","currEvent","screenY","dy","deltaY","sqrt","event","pointerType","buttons","pointerEnabled","navigator",27,"check","h","offsetHeight","scrollTop","slice","filter","img","_t","offsetTop","_h","src","removeAttribute","errorSrc","onerror","images","show","onload","_domCss2","opacity","_domCss","_eventsOn","_eventsOn2","../dom/css","../events/on",28,29,"property","enabled",30,"_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Symbol","iterator","done","err","isArray","TypeError","_domAddClass","_domAddClass2","map","seamonkey","firefox","chrome","chromium","safari","opera","ie","ua","userAgent","test","_a","ignore","../dom/addClass",31,"_prefix","_prefix2","_CSSSupports","_CSSSupports2","result","./CSSSupports","./prefix",32,33,"prefix","toUpperCase",34,35,36,37,"_utilsHelperDataSrc","_utilsHelperDataSrc2","_sidemenu","_sidemenu2","_frameset","_frameset2","./frameset","./sidemenu","./utils/helper/dataSrc","./utils/support/browser"],"mappings":"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","file":"workspace.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",null,"// Frameset\n// Make child elements flexible frame like\n\n// Supports...\nimport flex from './utils/support/flex';\nimport './utils/support/legacyflex';\nimport './utils/support/transform';\nimport supportsTouch from './utils/support/touch';\n\n// Events\nimport emit from './utils/events/emit';\nimport on from './utils/events/on';\nimport delegate from './utils/events/delegate';\nimport ready from './utils/events/ready';\nimport swipe from './utils/events/swipe';\nimport touch from './utils/events/touch';\n\n// DOM\nimport transform from './utils/dom/transform';\nimport documentElement from './utils/dom/documentElement';\nimport createElement from './utils/dom/createElement';\nimport parents from './utils/dom/parents';\nimport attr from './utils/dom/attr';\nimport index from './utils/dom/index';\nimport each from './utils/dom/each';\nimport query from './utils/dom/query';\nimport filter from './utils/dom/filter';\nimport find from './utils/dom/find';\nimport css from './utils/dom/css';\nimport cssCalc from './utils/dom/cssCalc';\n\nimport addClass from './utils/dom/addClass';\nimport toggleClass from './utils/dom/toggleClass';\nimport removeClass from './utils/dom/removeClass';\nimport hasClass from './utils/dom/hasClass';\n\n\nvar MOBILE_WIDTH = 850;\n\n//\n// Check if the view is in mobile mode.\n// mobile() looks at window width to determine the mobile mode, essentially its just small screen\nfunction mobile() {\n\treturn (documentElement.offsetWidth < MOBILE_WIDTH);\n}\n\n\n// Add internal controls\ndelegate('.frames .workspace-back', 'click', (e) => {\n\tvar frame = parents(e.target, '.frame');\n\tif (frame) {\n\t\tprev = frame.previousElementSibling;\n\t\tif (prev) {\n\t\t\temit(prev, 'active');\n\t\t}\n\t}\n});\n\n\n// Add Gestures\n// To swipe between frames\non(window, 'resize', () => {\n\n\t// Get the number of frames in the frameset\n\teach(\".frameset\", (frameset) => {\n\n\t\tlet frames = frameset.querySelectorAll(\".frame\");\n\n\t\tlet frameWidth = '';\n\t\tlet setWidth = '';\n\n\t\tif (!mobile()) {\n\t\t\t// reset frame\n\t\t\ttransform(frameset, 'translateX', '');\n\t\t}\n\t\telse {\n\t\t\tframeWidth = frameset.parentNode.offsetWidth;\n\t\t\tsetWidth = frames.length * frameWidth;\n\n\t\t\tsetWidth += 'px';\n\t\t\tframeWidth += 'px';\n\t\t}\n\n\t\tcss(frameset, {\n\t\t\twidth: setWidth\n\t\t});\n\n\t\tcss(frames, {\n\t\t\twidth: frameWidth\n\t\t});\n\n\t\t// Re-assert the active frame\n\t\tlet selected = query(\".frame.active\", frameset);\n\n\t\t// Activate frame to clean it up.\n\t\temit(selected, 'active');\n\t});\n});\n\n\nready(() => {\n\ton(document.body, 'keydown', (e) => {\n\t\tvar el;\n\t\tswitch (e.which) {\n\t\t\tcase 37:\n\t\t\t\tel = query(\".frameset .frame.active\").previousElementSibling;\n\t\t\tbreak;\n\t\t\tcase 39:\n\t\t\t\tel = query(\".frameset .frame.active\").nextElementSibling;\n\t\t\tbreak;\n\t\t}\n\t\tif (el) {\n\t\t\temit(el, 'active');\n\t\t}\n\t});\n});\n\n\nexport default function (match) {\n\t// Find and initiate all framesets\n\teach(match, initFrameset);\n}\n\n\nfunction initFrameset(frameset) {\n\n\t// Add class\n\taddClass(frameset, 'frameset');\n\n\t// Get the children as frames\n\tlet frames = frameset.children;\n\n\t// Define children as \".frame\"\n\taddClass(frames, 'frame');\n\n\t// Add \"active\" status to the first one, or who bares the className 'frame-main'\n\tvar active_frame = find(frames, '.active');\n\n\tif (!active_frame) {\n\n\t\t// Find the main frame to mark\n\t\t// Default to the initial frame\n\t\tactive_frame = find(frames, \".frame-main\") || frames[0];\n\n\t\taddClass(active_frame, 'active');\n\t}\n\n\n\teach(frames, (frame) => {\n\t\ton(frame, 'active', () => showFrame(frame));\n\t});\n\n\n\t// Only for non-touch devices do we need the drag controls\n\t// Add control to a subset of the frames\n\tlet frames_controls = flex ? filter(frames, \":not(.flex)\") : frames;\n\n\teach(frames_controls, createFrameControls);\n\n\n\t//\n\t// FillFrame\n\t//\n\ton(frameset, 'fillframe', () => {\n\n\t\t// Is the frame\n\t\tif (mobile()) {\n//\t\t\t\t$('.frame',this).width('100%');\n\t\t\treturn;\n\t\t}\n\n\t\t// for all the nested frames within this\n\t\t// we are going to reorganise the widths\n\t\tvar diff = cssCalc(frameset).width;\n\n\t\tlet fill_frames = filter(frames, ':not(.pinned)');\n\n\t\teach(fill_frames, (frame) => {\n\n\t\t\t// How wide is this element?\n\t\t\tvar w = cssCalc(frame).width;\n\t\t\tdiff -= w;\n\n\t\t\t// fix bug in IE, FF when resize, lets fix the widths, to prevent it overriding its container\n\t\t\tsetFrameWidth(frame, w);\n\n\t\t});\n\n\t\teach(fill_frames, (frame) => {\n\n\t\t\tif (diff === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar style = cssCalc(frame);\n\n\t\t\tvar min = parseInt(style.minWidth,10) || 0,\n\t\t\t\tmax = parseInt(style.maxWidth,10) || 0,\n\t\t\t\twid = frame.offsetWidth;\n\n\t\t\t//console.log(diff,wid,min,max);\n\n\t\t\tif ((wid + diff) < min) {\n\t\t\t\t//console.log(diff,wid,'min');\n\t\t\t\tdiff += (wid - min);\n\t\t\t\twid = min;\n\t\t\t}\n\t\t\telse if ((wid + diff) > max && max > 0) {\n\t\t\t\t//console.log(diff,wid,'max');\n\t\t\t\tdiff -= (wid - max);\n\t\t\t\twid = max;\n\t\t\t}\n\t\t\telse {\n\t\t\t\twid += diff;\n\t\t\t\tdiff = 0;\n\t\t\t}\n\n\t\t\tsetFrameWidth(frame, wid);\n\t\t});\n\t});\n\n\n\t// Add Swipe'y touch events\n\tswipe(frameset.parentNode, (e) => {\n\n\t\tif (!mobile()) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar a = find(frames, '.active');\n\t\tvar W = frameset.parentNode.offsetWidth;\n\t\tvar n = frames.length;\n\n\t\tvar i = index(a);\n\t\tvar b = a;\n\n\t\tswitch(e.gesture.type) {\n\t\t\tcase \"dragleft\":\n\t\t\tcase \"dragright\":\n\n\t\t\t\t// Cancel defaults\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\n\t\t\t\t// What is the current frame offset (fo)\n\t\t\t\tvar fo = -((100 / n) * i);\n\t\t\t\t// What is the delta change in X as a percentage of the whole length,\n\t\t\t\tvar dx = ((100 / W) * e.gesture.deltaX) / n;\n\n\t\t\t\t// slow down at the first and last pane\n\t\t\t\tif((i === 0 && e.gesture.direction === 'right') || (i === (n-1) && e.gesture.direction === 'left')) {\n\t\t\t\t\tdx *= 0.3;\n\t\t\t\t}\n\n\t\t\t\ttransform(frameset, 'translateX', (fo + dx) + \"%\");\n\n\t\t\t\tcss(frameset, {\n\t\t\t\t\t\"WebkitTransition\":\"-webkit-transform 0s\",\n\t\t\t\t\t\"mozTransition\":\"-moz-transform 0s\",\n\t\t\t\t\t\"transition\":\"transform 0s\"\n\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\tcase \"swipeleft\":\n\t\t\t\tb = a.nextElementSibling;\n\t\t\tbreak;\n\n\t\t\tcase \"swiperight\":\n\t\t\t\tb = a.previousElementSibling;\n\t\t\tbreak;\n\n\t\t\tcase \"release\":\n\n\t\t\t\tif (Math.abs(e.gesture.deltaX) > (W / 2)) {\n\t\t\t\t\tif(e.gesture.direction === 'right'){\n\t\t\t\t\t\tb = a.previousElementSibling;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tb = a.nextElementSibling;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\tbreak;\n\t\t}\n\n\t\tcss(frameset, {\n\t\t\t\"WebkitTransition\": \"\",\n\t\t\t\"mozTransition\": \"\",\n\t\t\t\"transition\": \"\"\n\t\t});\n\n\t\tif (!b) {\n\t\t\tb = a;\n\t\t}\n\n\t\temit(b, 'active');\n\n\t\treturn true;\n\t});\n\n\t// resize\n\tif (!supportsTouch) {\n\t\ton(window, 'resize', () => {\n\t\t\temit(frameset, 'fillframe');\n\t\t});\n\t\temit(frameset, 'fillframe');\n\t}\n\treturn frameset;\n}\n\n//\n// showFrame\n// If a frame comes into focus, either by being:\n// unppined or selected (frame-nav), or screen swipe bring its into focus\nfunction showFrame(frame, toggle = false) {\n\n\t// lets create the offset\n\tvar frameset = frame.parentNode;\n\tvar frames = frameset.children;\n\tvar i = index(frame);\n\tvar links = each('.frame-nav a');\n\tvar link = links[i];\n\n\tif (link) {\n\t\t// Select class removes this class from all other siblings and marks this item as selected\n\t\ttoggleClass(links, 'active', (el) => el === link);\n\t}\n\n\ttoggleClass(frames, 'active', (el) => el === frame);\n\n\n\tif (mobile()) {\n\t\tvar x = \"-\" + ((i / frames.length) * 100) + \"%\";\n\t\ttransform(frameset, \"translateX\", x);\n\t}\n\telse if (toggle) {\n\t\ttoggleClass([frame, link], 'pinned');\n\t}\n\telse {\n\t\tremoveClass([frame, link], 'pinned');\n\t}\n\temit(frameset, 'fillframe');\n}\n\n\nfunction createFrameControls(frame) {\n\n\t// Create resize buttons\n\tvar btn = createElement('button', {className: 'resize'});\n\tframe.appendChild(btn);\n\n\t// Add touch event\n\ttouch(btn, (e, o) => {\n\n\t\tif(!o){\n\t\t\treturn false;\n\t\t}\n\t\tvar diff = (e.screenX - o.screenX);\n\n\t\t// If item is at its minimum?\n\t\tif(diff === 0){\n\t\t\t// nothing to do\n\t\t\treturn;\n\t\t}\n\n\t\tvar frm = frame,\n\t\t\tprev = frame,\n\t\t\tstyle,\n\t\t\twidth;\n\n\t\t// if the resize is on the left side\n\t\t// swap the $prev with the actual prev element\n\t\tif (cssCalc(btn).left === \"0px\") {\n\t\t\tprev = frm = prev.previousElementSibling;\n\t\t}\n\n\t\tdo {\n\t\t\twidth = prev.offsetWidth + diff;\n\n\t\t\tstyle = cssCalc(prev);\n\n\t\t\tif( width > parseInt(style.maxWidth, 10)) {\n\t\t\t\t//console.log('Too big');\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\telse if( width < parseInt(style.minWidth, 10)) {\n\t\t\t\t//console.log('Too small');\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tpassed = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\twhile ((prev = prev.previousElementSibling) && prev);\n\n\t\tif (!prev) {\n\t\t\t//console.log('Cannot shift left item any further');\n\t\t\treturn;\n\t\t}\n\n\t\tvar next = frm,\n\t\t\tnwidth,\n\t\t\tpassed = false;\n\n\t\twhile (next.nextElementSibling) {\n\n\t\t\tnext = next.nextElementSibling;\n\t\t\tnwidth = next.offsetWidth - diff;\n\n\t\t\tstyle = cssCalc(next);\n\n\t\t\tif (nwidth > parseInt(style.maxWidth, 10)) {\n\t\t\t\t//console.log('Too big for next');\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\telse if (nwidth < parseInt(style.minWidth,10)) {\n\t\t\t\t//console.log('Too small for next');\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpassed = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (!passed) {\n\t\t\t//console.log('Cannot move right items any further');\n\t\t\treturn;\n\t\t}\n\n\t\t// Change size\n\t\tsetFrameWidth(prev, width);\n\n\t\t// This neighbour\n\t\tsetFrameWidth(next, nwidth);\n\t});\n}\n\nfunction setFrameWidth(frame, width) {\n\tframe = flex ? filter(frame, \":not(.flex)\") : frame;\n\tcss(frame, {width: width +\"px\"});\n}\n\n\n\n// legacy support old jQuery way\n{\n\tif (typeof(jQuery) !== 'undefined') {\n\t\tjQuery.fn.showFrame = function() {\n\t\t\tjQuery(this).trigger('active');\n\t\t};\n\t}\n}\n","// Events\nimport emit from './utils/events/emit';\nimport on from './utils/events/on';\n\n// DOM\nimport css from './utils/dom/css';\nimport documentElement from './utils/dom/documentElement';\nimport createElement from './utils/dom/createElement';\nimport parents from './utils/dom/parents';\nimport toggleClass from './utils/dom/toggleClass';\nimport removeClass from './utils/dom/removeClass';\nimport hasClass from './utils/dom/hasClass';\nimport attr from './utils/dom/attr';\nimport index from './utils/dom/index';\nimport each from './utils/dom/each';\n\n// Navigation\nexport default function sidemenu(query) {\n\n\t// Find the element\n\teach(query, (nav) => {\n\n\t\t// Does there exist a navigation\n\t\tlet toggle = createElement('button', {\n\t\t\tinnerText: 'Close',\n\t\t\tclassName: 'toggle-frame-nav'\n\t\t});\n\n\t\tnav.appendChild(toggle);\n\n\t\ton('.toggle-frame-nav', 'click', (e) => {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\ttoggleClass(documentElement, \"show-frame-nav\");\n\t\t});\n\n\t\t// Populate the Nav with frame links\n\t\teach('.frameset .frame', (frame) => {\n\t\t\tlet name = frame.getAttribute('data-framename') || frame.title;\n\t\t\tlet link = createElement('a', {innerText: name});\n\t\t\tattr(link, {\n\t\t\t\t\"data-frmindex\" : index(frame)\n\t\t\t});\n\t\t\tnav.appendChild(link);\n\n\t\t\ton(link, 'click', () => {\n\t\t\t\temit(frame, 'active');\n\t\t\t});\n\n\t\t\ton(frame, 'pinned', (e) => {\n\t\t\t\ttoggleClass(link, 'pinned');\n\t\t\t});\n\t\t});\n\n\t\t// Add click event to body\n\t\t// to get out of the menu\n\t\ton(document.body, \"click\", (e) => {\n\t\t\tif (hasClass(documentElement, 'show-frame-nav') && !parents(e.target, \".frame-nav\").length) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tremoveClass(documentElement, 'show-frame-nav');\n\t\t\t}\n\t\t});\n\n\t\tdocument.body.appendChild(nav);\n\t});\n}\n","// addClass\nimport each from './each';\nimport hasClass from './hasClass';\n\nexport default function(elements, className) {\n\treturn each(elements, (el) => {\n\t\tif (!hasClass(el, className)) {\n\t\t\tel.className += \" \" + className;\n\t\t}\n\t});\n}\n","import each from './each';\n\nexport default function(elements, props) {\n\treturn each(elements, (element) => {\n\t\tfor (let x in props) {\n\t\t\telement.setAttribute(x, props[x]);\n\t\t}\n\t});\n}\n","\nimport extend from '../object/extend';\n\nexport default function (tagName, prop) {\n\tlet elm = document.createElement(tagName);\n\textend(elm, prop);\n\treturn elm;\n}\n","// css - apply properties to an element\nimport each from './each';\n\nexport default function css(elements, props) {\n\treturn each(elements, (el) => {\n\t\tfor (let key in props) {\n\t\t\tel.style[key] = props[key];\n\t\t}\n\t});\n}\n","// cssCalc\nimport each from './each';\n\nexport default function (elements) {\n\tlet elm = each(elements)[0];\n\treturn window.getComputedStyle(elm);\n}\n","export default document.documentElement;\n","export default function each(matches, callback = function(){}) {\n\n\tif (matches instanceof Element || matches instanceof HTMLDocument || matches instanceof Window) {\n\t\tcallback(matches);\n\t\treturn [matches];\n\t}\n\n\tif (typeof(matches) === 'string') {\n\t\tmatches = document.querySelectorAll(matches);\n\t}\n\n\tif (callback) {\n\n\t\tfor (let i = 0; i < matches.length; i++) {\n\t\t\tcallback.call(matches[i], matches[i], i );\n\t\t}\n\t}\n\n\treturn matches || [];\n}\n","import each from './each';\nimport matches from './matches';\n\nexport default function(elements, match) {\n\tlet a = [];\n\n\teach(elements, (el) => {\n\t\tif (matches(el, match)) {\n\t\t\ta.push(el);\n\t\t}\n\t});\n\n\treturn a;\n}\n","import until from './until';\nimport matches from './matches';\n\nexport default function(elements, match) {\n\treturn until(elements, (el) => {\n\t\tif (matches(el, match)) {\n\t\t\treturn el;\n\t\t}\n\t});\n}\n","import until from './until';\n\nexport default function(elements, className) {\n\tvar reg = new RegExp(\"(^|\\\\s)\"+className+\"($|\\\\s)\", 'i');\n\treturn until(elements, (el) => {\n\t\treturn el.className && el.className.match(reg);\n\t});\n}\n","export default function(elem) {\n\treturn Array.prototype.indexOf.call(elem.parentNode.children, elem);\n}\n","import until from './until';\n\nexport default function(elements, query) {\n\n\tlet handler = query;\n\n\tif (typeof query === 'string') {\n\t\thandler = (el) => {\n\t\t\tlet func = (el.matches || el.mozMatchesSelector || el.webkitMatchesSelector || el.msMatchesSelector || el.oMatchesSelector);\n\t\t\treturn func.call(el, query);\n\t\t};\n\t}\n\n\treturn until(elements, handler);\n}\n","// Find parents of an element which match a pattern\n\nimport each from './each';\nimport matches from './matches';\nimport documentElement from './documentElement';\n\nexport default function(elements, match) {\n\tvar m = [];\n\teach(elements, (el) => {\n\t\twhile(el && el.parentNode) {\n\t\t\tel = el.parentNode;\n\n\t\t\tif (el === document) {\n\t\t\t\tel = documentElement;\n\t\t\t}\n\n\t\t\tif (matches(el, match)) {\n\t\t\t\tm.push(el);\n\t\t\t}\n\n\t\t\tif (el === documentElement) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t});\n\treturn m;\n}\n","// Select a single element\nexport default function(query, parent = document) {\n\treturn parent.querySelector(query);\n}\n","// removeClass\nimport each from './each';\n\nexport default function(elements, className) {\n\tvar reg = new RegExp(\"(^|\\\\s)\"+className+\"($|\\\\s)\", 'ig');\n\treturn each(elements, (el) => {\n\t\tel.className = el.className.replace(reg, ' ');\n\t});\n}\n","import each from './each';\nimport addClass from './addClass';\nimport removeClass from './removeClass';\nimport hasClass from './hasClass';\n\nexport default function(elements, className, condition) {\n\n\tif (typeof(condition) !== 'function') {\n\t\tcondition = function(el) {\n\t\t\treturn !hasClass(el, className);\n\t\t};\n\t}\n\n\treturn each(elements, (el) => {\n\t\tif (condition(el)) {\n\t\t\taddClass(el, className);\n\t\t}\n\t\telse {\n\t\t\tremoveClass(el, className);\n\t\t}\n\t});\n}\n","// transform\n// Assign CSS transform operation\nimport css from './css';\nimport supportsTransform3d from '../support/transform3d';\n\nexport default function transform(element, prop, value) {\n\tvar x = prop + \"(\" + value + \")\";\n\tif (supportsTransform3d && prop === \"translateX\") {\n\t\tx = \"translate3d(0,0,0) translate(\"+(value||'0')+\",0)\";\n\t}\n\tvar o = {\n\t\ttransform: x,\n\t\tmsTransform: x,\n\t\tMozTransform: x,\n\t\tWebkitTransform: x\n\t};\n\treturn css(element, o);\n}\n","import each from './each';\n\nexport default function(elements, callback) {\n\tvar bool;\n\n\teach(elements, (el) => {\n\t\tif (!bool) {\n\t\t\tbool = callback(el);\n\t\t}\n\t});\n\n\treturn bool;\n}\n","import on from './on';\nimport matches from '../dom/matches';\n\nexport default function delegate(match, eventName, handler, root = document) {\n\treturn on(root, eventName, (e) => {\n\t\tif (matches(e.target, match)) {\n\t\t\thandler(e);\n\t\t}\n\t});\n}\n","// on.js\n// Listen to events, this is a wrapper for addEventListener\n\nimport each from '../dom/each';\n\n// IE does not support `new Event()`\n// See https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events for details\n\nlet createEvent = (eventname) => {return new Event(eventname);};\ntry{\n\tcreateEvent(\"test\");\n}\ncatch(e) {\n\tcreateEvent = (eventname) => {\n\t\tlet e = document.createEvent('Event');\n\t\te.initEvent(eventname, true, true);\n\t\treturn e;\n\t};\n}\n\n// Return\nexport default function emit(elements, eventname) {\n\treturn each(elements, (el) => {\n\t\tel.dispatchEvent(createEvent(eventname));\n\t});\n}\n","// on.js\n// Listen to events, this is a wrapper for addEventListener\n\nimport each from '../dom/each';\n\nexport default function on(elements, eventnames, callback, useCapture = false) {\n\teventnames = eventnames.split(/\\s+/);\n\treturn each(elements, (el) => {\n\t\teventnames.forEach((eventname) => el.addEventListener(eventname, callback, useCapture) )\n\t});\n};\n","import on from './on';\n\nexport default function ready(callback) {\n\tif (document.readyState !== \"loading\" && document.body) {\n\t\tcallback();\n\t}\n\telse {\n\t\ton(document, 'DOMContentLoaded', callback);\n\t}\n}\n","// swipe\n// Checks for a swipe to the left or to the right\n\nimport touch, {gesture} from './touch';\n\nexport default function swipe(elements, callback) {\n\n\treturn touch(elements, function(e, o, s) {\n\n\t\tgesture(e,s);\n\n\t\te.gesture.type = \"drag\" + e.gesture.direction;\n\n\t\tcallback.call(this, e);\n\n\t}, function(e){\n\n\t}, function(e, s) {\n\t\t// How long did this operation take?\n\t\tif (e.gesture.deltaTime < 200 && e.gesture.distance > 20 && e.gesture.velocity > 0.3) {\n\t\t\te.gesture.type = \"swipe\" + e.gesture.direction;\n\t\t}\n\t\telse {\n\t\t\te.gesture.type = \"release\";\n\t\t}\n\n\n\t\tcallback.call(this, e);\n\t});\n};\n","// Standardizes touch events\n// Calculate the difference from the starting position and the end position.\n// Returns a gesture object given\n\nimport on from './on';\nimport each from '../dom/each';\n\n// Does this support pointer events?\nconst pointerEnabled = window.navigator.pointerEnabled;\nconst eventMoveTypes = pointerEnabled ? 'MSPointerMove pointerMove' : 'mousemove touchmove';\nconst eventStartTypes = pointerEnabled ? 'MSPointerDown pointerDown' : 'mousedown touchstart';\nconst eventEndTypes = pointerEnabled ? 'MSPointerUp pointerUp' : 'mouseup touchend touchcancel';\n\n// Touch\n// @param callback function - Every touch event fired\n// @param complete function- Once all touch event ends\nexport default function touch(elements, onmove, onstart, onend) {\n\n\t// Store callbacks, and previous pointer position\n\tvar cb = {}, mv = {}, fin = {};\n\n\ton(document, eventMoveTypes, (moveEvent) => {\n\n\t\t// Fix Android not firing multiple moves\n\t\t// if (e.type.match(/touch/i)) {\n\t\t// // e.preventDefault();\n\t\t// }\n\n\t\t// Pointer/Mouse down?\n\t\tif (voidEvent(moveEvent)) {\n\t\t\t// The mouse buttons isn't pressed, kill this\n\t\t\treturn;\n\t\t}\n\n\t\t// trigger the call\n\t\tvar i = moveEvent.pointerId || 0;\n\t\tvar handler = cb[i];\n\n\t\tif (handler && typeof(handler) === 'function') {\n\n\t\t\tvar prevEvent = mv[i];\n\n\t\t\t// Extend the Event Object with 'gestures'\n\t\t\tgesture(moveEvent, prevEvent);\n\n\t\t\t// Trigger callback\n\t\t\thandler(moveEvent, prevEvent);\n\t\t}\n\n\t\tmv[i] = moveEvent;\n\t});\n\n\ton(document, eventEndTypes, (e) => {\n\n\t\tvar i = e.pointerId || 0;\n\t\tcb[i] = null;\n\n\t\tif (e.type === \"touchend\" || e.type === \"touchcancel\") {\n\t\t\te = mv[i];\n\t\t}\n\n\t\tlet handler = fin[i];\n\t\tif (handler) {\n\t\t\thandler(e);\n\t\t}\n\n\t\tfin[i] = null;\n\t});\n\n\t// loop through and add events\n\teach(elements, (element) => {\n\n\t\t// bind events\n\t\t// on(element, 'touchend', (e) => {\n\t\t// \tconsole.log(\"el:touchend\");\n\t\t// \tconsole.log(e);\n\t\t// });\n\n\t\ton(element, \"selectstart\", (e) => {return false;} );\n\n\t\ton(element, eventStartTypes, (startEvent) => {\n\n\t\t\t// default pointer ID\n\t\t\tvar i = startEvent.pointerId || 0;\n\n\t\t\t// If touch, choose the first element.\n\t\t\t// For multiple we may need to pass in a flag to this function\n\t\t\tif (startEvent.touches && startEvent.touches.length) {\n\t\t\t\tvar ts = startEvent.timeStamp;\n\t\t\t\tstartEvent = startEvent.touches[0];\n\t\t\t\tstartEvent.timeStamp = ts;\n\t\t\t}\n\n\t\t\t// Add Gestures to event Object\n\t\t\tgesture(startEvent);\n\n\t\t\tmv[i] = startEvent;\n\t\t\tcb[i] = (moveEvent, prevMoveEvent) => {\n\t\t\t\tonmove.call(element, moveEvent, prevMoveEvent, startEvent);\n\t\t\t};\n\n\t\t\tif (onend) {\n\t\t\t\tfin[i] = (endEvent) => {\n\n\t\t\t\t\t// Add Gestures to event Object\n\t\t\t\t\tgesture(endEvent, startEvent);\n\n\t\t\t\t\t// fire complete callback\n\t\t\t\t\tonend.call(element, endEvent, startEvent);\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// trigger start\n\t\t\tif (onstart) {\n\t\t\t\tonstart.call(element, startEvent);\n\t\t\t}\n\t\t});\n\t});\n}\n\nexport function gesture(currEvent, prevEvent) {\n\n\t// Response Object\n\tcurrEvent.gesture = {};\n\n\tif (currEvent && currEvent.touches && currEvent.touches.length > 0) {\n\t\tcurrEvent.gesture.touches = currEvent.touches;\n\t}\n\telse {\n\t\tcurrEvent.gesture.touches = [currEvent];\n\t}\n\n\tcurrEvent.gesture.screenX = currEvent.gesture.touches[0].screenX;\n\tcurrEvent.gesture.screenY = currEvent.gesture.touches[0].screenY;\n\n\tif (!currEvent.screenX) {\n\t\tcurrEvent.screenX = currEvent.gesture.screenX;\n\t}\n\tif (!currEvent.screenY) {\n\t\tcurrEvent.screenY = currEvent.gesture.screenY;\n\t}\n\n\t// If the second parameter isn't defined then we're unable to define getures\n\t// But if it is then whoop, lets go.\n\tif (prevEvent) {\n\n\t\tcurrEvent.gesture.deltaTime = (currEvent.timeStamp - prevEvent.timeStamp);\n\n\t\tvar dx = currEvent.gesture.deltaX = currEvent.gesture.screenX - prevEvent.gesture.screenX;\n\t\tvar dy = currEvent.gesture.deltaY = currEvent.gesture.screenY - prevEvent.gesture.screenY;\n\n\t\t// Which is the best direction for the gesture?\n\t\tif (Math.abs(dy) > Math.abs(dx)) {\n\t\t\tcurrEvent.gesture.direction = (dy > 0 ? 'up' : 'down');\n\t\t}\n\t\telse {\n\t\t\tcurrEvent.gesture.direction = (dx > 0 ? 'right' : 'left');\n\t\t}\n\n\t\t// Distance\n\t\tcurrEvent.gesture.distance = Math.sqrt((dx * dx) + (dy * dy));\n\n\t\t// Velocity\n\t\tcurrEvent.gesture.velocity = currEvent.gesture.distance / currEvent.gesture.deltaTime;\n\t}\n}\n\n\nfunction voidEvent(event) {\n\tvar type = event.pointerType || event.type;\n\treturn (type.match(/mouse/i) && (event.which || event.buttons) !== 1);\n}\n","// data-src\n// Loads images on demand\n// By adding data-src to images and binding dataSrc to a ancestor\n// The data-src attribute is read and defines a path to the image\n// load an image once the image fits a visible area. or if the image exists\n\nimport each from '../dom/each';\nimport css from '../dom/css';\nimport on from '../events/on';\n\n\nvar images = [];\nexport default function (elements){\n\n\t// Find all the elements in the page with data-src className\n\t// Bind listeners to the page to determine whether this content is changing.\n\n\treturn each(elements, function(el) {\n\n\t\t// Listen to the scroll event on this item\n\t\ton(el, 'scroll', () => check(el));\n\n\t\t// Check\n\t\tcheck(el);\n\t});\n};\n\n\nfunction check(el) {\n\n\t// Retrieve the relative position of this item to the page\n\tvar h = el.offsetHeight,\n\t\tt = el.scrollTop;\n\n\t// [data-src]\n\tlet a = Array.prototype.slice.call(el.querySelectorAll('img[data-src]'));\n\n\t// Is it shown?\n\ta = a.filter((img) => {\n\t\t// Where is this positioned?\n\t\tvar _t = img.offsetTop,\n\t\t\t_h = img.offsetHeight;\n\n\t\t// does it fix in the bounding box?\n\t\treturn ( ( _t + _h ) >= t && _t <= ( t + h ) );\n\t});\n\n\t//\n\ta.forEach((img) => {\n\n\t\t// SRC\n\t\timg.src = img.getAttribute('data-src');\n\t\timg.removeAttribute('data-src');\n\n\t\t// Error fallback\n\t\tlet errorSrc = img.getAttribute('data-src-error');\n\n\t\tif (errorSrc) {\n\t\t\timg.onerror = () => {\n\t\t\t\timg.src = errorSrc;\n\t\t\t};\n\t\t}\n\n\t\t// Have we already loaded this image into the browser?\n\t\tif (images.indexOf(img.src) > -1) {\n\t\t\tshow(img);\n\t\t}\n\t\telse {\n\t\t\timg.onload = () => {\n\t\t\t\tshow(img);\n\t\t\t\timages.push(img.src);\n\t\t\t};\n\t\t}\n\t});\n}\n\nfunction show(el) {\n\tcss(el, {opacity:1});\n}\n","// Extend an object\nexport default function(r, o) {\n\tfor (let x in o) {\n\t\tr[x] = o[x];\n\t}\n\treturn r;\n}\n","// Add browser ability to the window HTML.classList\nexport default function (property, enabled) {\n\tdocument.documentElement.className = document.documentElement.className + ' ' + (enabled?\"\":\"no-\") + property;\n};","// Browser Sniffing\n\nimport addClass from '../dom/addClass';\n\nlet map = {\n\tseamonkey: [/Seamonkey\\/\\d+/],\n\tfirefox: [/Firefox\\/\\d+/, /Seamonkey\\/\\d+/],\n\tchrome: [/Chrome\\/\\d/, /Chromium\\/\\d+/],\n\tchromium: [/Chromium\\/\\d+/],\n\tsafari: [/Safari\\/\\d+/, /Chrom(e|ium)\\/\\d+/],\n\topera: [/O(PR|pera)\\/\\d+/],\n\tie: [/(;MSIE\\s|Trident\\/)\\d+/]\n};\n\nlet ua = window.navigator.userAgent;\n\nlet test = (a) => {\n\tlet [match, ignore] = a;\n\treturn match.test(ua) && !(ignore && ignore.test(ua));\n};\n\nlet name;\nfor (let x in map) {\n\tif (test(map[x])) {\n\t\tname = x;\n\t\tbreak;\n\t}\n}\n\nif (name) {\n\taddClass(document.documentElement, name);\n}\n","// Supports Flex\nimport prefix from './prefix';\nimport CSSSupports from './CSSSupports';\n\nconst result = prefix(\"FlexWrap\");\n\nCSSSupports('flex', result);\n\nexport default result;\n","// Prop\nimport prefix from './prefix';\nimport CSSSupports from './CSSSupports';\n\nconst result = prefix(\"BoxDirection\");\n\nCSSSupports('legacyflex', result);\n\nexport default result;\n","// Test properties with prefix\n\nexport default function prefix(prop) {\n\n\tvar s = (document.createElement('div')).style;\n\n\treturn s[prop] !== undefined ||\n\t\t\ts[\"Moz\"+prop] !== undefined ||\n\t\t\ts[\"Webkit\"+prop] !== undefined ||\n\t\t\ts[\"ms\"+prop] !== undefined ||\n\t\t\ts[prop.replace(/^./, function(m) {\n\t\t\t\treturn m.toUpperCase();\n\t\t\t})] !== undefined;\n}\n","import CSSSupports from './CSSSupports';\n\nconst result = (\"ontouchstart\" in window);\n\nCSSSupports('touch', result);\n\nexport default result;\n","// Prop\nimport prefix from './prefix';\nimport CSSSupports from './CSSSupports';\n\nconst result = prefix(\"transform\");\n\nCSSSupports('transform', result);\n\nexport default result;\n","// Prop\nimport prefix from './prefix';\nimport CSSSupports from './CSSSupports';\n\nconst result = prefix(\"perspective\");\nCSSSupports('transform3d', result);\n\nexport default result;\n","// Supports...\nimport './utils/support/flex';\nimport './utils/support/legacyflex';\nimport './utils/support/transform';\nimport './utils/support/touch';\nimport './utils/support/browser';\n\n// Events\nimport emit from './utils/events/emit';\nimport ready from './utils/events/ready';\n\n// Helpers\nimport dataSrc from './utils/helper/dataSrc';\nimport sidemenu from './sidemenu';\nimport frameset from './frameset';\n\nready(() => {\n\n\t// Find elements denoted as framesets...\n\t// Append attributes to their chiidren;\n\tframeset('.frameset');\n\n\t// Containers with images can be loaded on demand\n\t// The container must simply have the className = \"data-src\"\n\t// A change in scroll position or visibility triggers the check\n\tdataSrc('.data-src');\n\n\t// Show frames\n\t// Add events to buttons which can expose the names of the frames.\n\t// This is good for mobile.\n\tsidemenu('.frame-nav');\n\n\t// Trigger resize\n\temit(window, 'resize');\n});\n"],"sourceRoot":"/source/"}